!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{static generateUnique(e,t=window){if(!(e instanceof t.Element))return;const n=[];let l=e;for(;l.nodeType===Node.ELEMENT_NODE;){let o=l.nodeName.toLowerCase(),i=r._getIdSelector(l),c=r._getClassesSelector(l),s=r._getAttributesSelector(l),u=r._getChildSelector(l),a=`${r._getSiblingSelector(l,t)}${o}${i}${c}${s}${u}`,f=r._concatSelectors(n,i);if(r._checkOnlyOneExistEl(f,e,t))return f;let E=r._concatSelectors(n,c);if(r._checkOnlyOneExistEl(E,e,t))return E;let _=r._concatSelectors(n,s);if(r._checkOnlyOneExistEl(_,e,t))return _;let d=r._concatSelectors(n,a);if(r._checkOnlyOneExistEl(d,e,t))return d;if("body"===o){const n=r._generateUniqueByPrev(e,t);if(n)return n}n.unshift(a),l=l.parentNode}return n.join(" > ")}static _concatSelectors(e,t){let n=e.join(" > ");return n&&t?`${t} > ${n}`:t}static _generateUniqueByPrev(e,t){let n=e.previousElementSibling;const l=[];for(;n&&n.nodeType===Node.ELEMENT_NODE;){let e=r._getPrevUnique(n.nextElementSibling,t);if(e)return l.unshift(e),l.join(" + ");let o=n.nodeName.toLowerCase(),i=r._getIdSelector(n),c=r._getClassesSelector(n),s=r._getAttributesSelector(n);const u=i||c||s||o;l.unshift(u),n=n.previousElementSibling}return null}static _getPrevUnique(e,t){const n=e.previousElementSibling;if(!n||n.nodeType!==Node.ELEMENT_NODE)return null;let l=e.nodeName.toLowerCase(),o=r._getIdSelector(e),i=r._getClassesSelector(e),c=r._getAttributesSelector(e);const s=o||i||c||l;let u=r._generateUnique(n,t),a=`${u} + ${s}`;if(u&&r._checkOnlyOneExistEl(a,e,t))return a;const f=`${l}${o}${i}${c}`;return r._checkOnlyOneExistEl(f,e,t)?f:null}static _generateUnique(e,t){if(!(e instanceof t.Element))return;const n=[];let l=e;for(;l.nodeType===Node.ELEMENT_NODE;){let o=l.nodeName.toLowerCase(),i=r._getIdSelector(l),c=r._getClassesSelector(l),s=r._getAttributesSelector(l),u=`${o}${i}${c}${s}`;if(r._checkOnlyOneExistEl(i,e,t)){n.unshift(i);break}if(r._checkOnlyOneExistEl(c,e,t)){n.unshift(c);break}if(r._checkOnlyOneExistEl(s,e,t)){n.unshift(s);break}if(r._checkOnlyOneExistEl(u,e,t)){n.unshift(u);break}l=l.parentNode}return n.join(" > ")}static _getIdSelector(e){const t=r._trustedSelector(e.id);return t?`#${t}`:""}static _getClassesSelector(e){return`.${Object.values(e.classList).map(e=>(e=e.trim(),e=r._trustedSelector(e))).filter(e=>Boolean(e)).join(".")}`}static _getAttributesSelector(e){let t=Array.from(e.attributes).filter(e=>{let t=e.name,n=e.value;if(n=r._trustedSelector(n),t=r._trustedSelector(t),""===n||""===t)return!1;const l="class"!==t&&"id"!==t&&"style"!==t&&!t.startsWith("on"),o=parseInt(n).toString()!==n;return l&&o&&"href"!==t});if(t.length){return t.map(e=>`[${e.name}="${e.value}"]`).join("")}return""}static _getChildSelector(e){let t=e.previousElementSibling;const n=e.nextElementSibling;return t&&t.nodeType===Node.ELEMENT_NODE?n&&n.nodeType===Node.ELEMENT_NODE?"":":last-child":":first-child"}static _getSiblingSelector(e,t){const n=[];let l=e.previousElementSibling;for(;l&&l.nodeType===Node.ELEMENT_NODE;){let e=`${l.nodeName.toLowerCase()}${r._getIdSelector(l)}${r._getClassesSelector(l)}${r._getAttributesSelector(l)}${r._getChildSelector(l)}`;n.unshift(e);let o=n.join(" + ");if(r._isOnlyOneExistEl(o,t))return`${o} + `;l=l.previousElementSibling}return n.length?`${n.join(" + ")} + `:""}static _checkOnlyOneExistEl(e,t,n){let r=[];try{r=e&&n.document.querySelectorAll(e)}catch(e){}return 1===r.length&&r[0]===t}static _isOnlyOneExistEl(e,t){let n=[];try{n=e&&t.document.querySelectorAll(e)}catch(e){}return 1===n.length}static _isTrustedSelector(e){return!/[0-9]{3,}/.test(e)}static _trustedSelector(e){return r._isTrustedSelector(e)?e:""}}var l=r;class o{static generateUnique(e,t=window){if(!(e instanceof t.Element)||"BODY"===e.tagName)return;const n=[];for(;e.nodeType===Node.ELEMENT_NODE&&"BODY"!==e.tagName;){let r=e.nodeName.toLowerCase(),l=o._getAttributesSelector(e),i=o._getTextSelector(e);n.unshift(`${r}${l}${i}`);let c=`//${n.join("/")}`;const s=t.document.evaluate(c,t.document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(n.length&&s===e)break;e=e.parentNode}return`//${n.join("/")}`}static _getAttributesSelector(e){let t=Array.from(e.attributes).filter(e=>{let t=e.name;return"style"!==t&&"href"!==t});if(t.length){return t.map(e=>`[@${e.name}="${e.value}"]`).join("")}return""}static _getTextSelector(e){const t=e.outerText;if(!t)return null;return`[contains(text(), '${t.slice(0,50).replace(/['\)\(,\[\]]/g,"\\$1")}')]`}}var i=o;function c(e,t){return t.forEach(t=>{e=e.replace(new RegExp(t,"g"),"")}),e}t.default={generateUniqueSelector(e,t=window,n=[]){const r=l.generateUnique(e,t);if(r)return c(r,n);const o=i.generateUnique(e,t);return o.startsWith("//html")?null:c(o,n)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy1maW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3hwYXRoLWZpbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDc3NGaW5kZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJmaW5kRWwiLCJ3aW4iLCJ3aW5kb3ciLCJFbGVtZW50IiwicGF0aCIsImVsIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwidGFnTmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpZENzcyIsIl9nZXRJZFNlbGVjdG9yIiwiY2xhc3NDc3MiLCJfZ2V0Q2xhc3Nlc1NlbGVjdG9yIiwiYXR0cmlidXRlc0NzcyIsIl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IiLCJjaGlsZFNlbGVjdG9yIiwiX2dldENoaWxkU2VsZWN0b3IiLCJjb21wbGV4Q3NzIiwiX2dldFNpYmxpbmdTZWxlY3RvciIsImxvY2FsSWRDc3MiLCJfY29uY2F0U2VsZWN0b3JzIiwiX2NoZWNrT25seU9uZUV4aXN0RWwiLCJsb2NhbENsYXNzQ3NzIiwibG9jYWxBdHRyaWJ1dGVzQ3NzIiwibG9jYWxDb21wbGV4Q3NzIiwiY3NzV2l0aFByZXZFbCIsIl9nZW5lcmF0ZVVuaXF1ZUJ5UHJldiIsInVuc2hpZnQiLCJwYXJlbnROb2RlIiwiam9pbiIsImNzcyIsInBhdGhDc3MiLCJwcmV2RWwiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwic2VsZWN0b3JzIiwicHJldkNzcyIsIl9nZXRQcmV2VW5pcXVlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZmluZEVsQ3NzIiwibmV4dEVsIiwicHJldkVsQ3NzIiwiX2dlbmVyYXRlVW5pcXVlIiwic2VsZWN0b3IiLCJfdHJ1c3RlZFNlbGVjdG9yIiwiaWQiLCJ2YWx1ZXMiLCJjbGFzc0xpc3QiLCJtYXAiLCJjbGFzc05hbWUiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsImF0dHJpYnV0ZXMiLCJBcnJheSIsImZyb20iLCJhdHRyIiwiYXR0ck5hbWUiLCJhdHRyVmFsdWUiLCJuYW1lSXNWYWxpZCIsInN0YXJ0c1dpdGgiLCJ2YWx1ZUlzVmFsaWQiLCJwYXJzZUludCIsInRvU3RyaW5nIiwibGVuZ3RoIiwiX2lzT25seU9uZUV4aXN0RWwiLCJmaW5kRWxzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsInRlc3QiLCJfaXNUcnVzdGVkU2VsZWN0b3IiLCJjc3NfZmluZGVyIiwiWFBhdGhGaW5kZXIiLCJhdHRyaWJ1dGVzU2VsZWN0b3IiLCJ0ZXh0U2VsZWN0b3IiLCJfZ2V0VGV4dFNlbGVjdG9yIiwieHBhdGgiLCJlbGVtZW50IiwiZXZhbHVhdGUiLCJYUGF0aFJlc3VsdCIsIkZJUlNUX09SREVSRURfTk9ERV9UWVBFIiwic2luZ2xlTm9kZVZhbHVlIiwidGV4dCIsIm91dGVyVGV4dCIsInNsaWNlIiwicmVwbGFjZSIsInhwYXRoX2ZpbmRlciIsIl9jbGVhckZha2VWYWx1ZXMiLCJzdHIiLCJmYWtlVmFsdWVzIiwiZm9yRWFjaCIsInZhbCIsIlJlZ0V4cCIsIl9fd2VicGFja19leHBvcnRzX18iLCJnZW5lcmF0ZVVuaXF1ZSJdLCJtYXBwaW5ncyI6ImFBQ0Es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cUYsRUFBQXJGLEtBQ0EsZ0JBQUFBLEdBQUEsU0FBQUEsSUFFQSxHQUFBa0YsRUFBQVcsT0FBQSxDQUVBLE9BREFYLEVBQUFMLElBQUFRLFFBQStDQSxFQUFBckYsU0FBY3FGLEVBQUEzRSxXQUM3RGlELEtBQUEsSUFFQSxTQUdBakMsd0JBQUFNLEdBQ0EsTUFBQWdGLEVBQUFoRixFQUFBaUYsVUFDQSxJQUFBRCxFQUNBLFlBS0EsNEJBRkFBLEVBQUFFLE1BQUEsTUFDQUMsUUFGQSxnQkFFQSxjQUtlLElBQUFDLEVBQUEsRUM1Q2YsU0FBU0MsRUFBaUJDLEVBQWFDLEdBSW5DLE9BSEFBLEVBQVdDLFFBQVFDLElBQ2ZILEVBQU1BLEVBQUlILFFBQVEsSUFBSU8sT0FBT0QsRUFBSyxLQUFNLE1BRXJDSCxFQUdJSyxFQUFBLFNBQ1hqRyx1QkFBdUJNLEVBQWFKLEVBQU1DLE9BQVEwRixFQUF5QixJQUN2RSxNQUFNM0QsRUFBTXlDLEVBQVV1QixlQUFlNUYsRUFBSUosR0FDekMsR0FBSWdDLEVBQ0EsT0FBT3lELEVBQWlCekQsRUFBSzJELEdBRWpDLE1BQU1iLEVBQVFVLEVBQVlRLGVBQWU1RixFQUFJSixHQUM3QyxPQUFLOEUsRUFBTWpCLFdBQVcsVUFHZixLQUZJNEIsRUFBaUJYLEVBQU9hIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNsYXNzIENzc0ZpbmRlciB7XG5cblx0c3RhdGljIGdlbmVyYXRlVW5pcXVlKGZpbmRFbCwgd2luID0gd2luZG93KSB7XG5cdFx0aWYgKCEoZmluZEVsIGluc3RhbmNlb2Ygd2luLkVsZW1lbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHBhdGggPSBbXTtcblx0XHRsZXQgZWwgPSBmaW5kRWw7XG5cdFx0d2hpbGUgKGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0bGV0IHRhZ05hbWUgPSBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0bGV0IGlkQ3NzID0gQ3NzRmluZGVyLl9nZXRJZFNlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBjbGFzc0NzcyA9IENzc0ZpbmRlci5fZ2V0Q2xhc3Nlc1NlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBhdHRyaWJ1dGVzQ3NzID0gQ3NzRmluZGVyLl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IGNoaWxkU2VsZWN0b3IgPSBDc3NGaW5kZXIuX2dldENoaWxkU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IHNpYmxpbmdTZWxlY3RvciA9IENzc0ZpbmRlci5fZ2V0U2libGluZ1NlbGVjdG9yKGVsLCB3aW4pO1xuXHRcdFx0bGV0IGNvbXBsZXhDc3MgPSBgJHtzaWJsaW5nU2VsZWN0b3J9JHt0YWdOYW1lfSR7aWRDc3N9JHtjbGFzc0Nzc30ke2F0dHJpYnV0ZXNDc3N9JHtjaGlsZFNlbGVjdG9yfWA7XG5cdFx0XHRsZXQgbG9jYWxJZENzcyA9IENzc0ZpbmRlci5fY29uY2F0U2VsZWN0b3JzKHBhdGgsIGlkQ3NzKTtcblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwobG9jYWxJZENzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHJldHVybiBsb2NhbElkQ3NzO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGxvY2FsQ2xhc3NDc3MgPSBDc3NGaW5kZXIuX2NvbmNhdFNlbGVjdG9ycyhwYXRoLCBjbGFzc0Nzcyk7XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGxvY2FsQ2xhc3NDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRyZXR1cm4gbG9jYWxDbGFzc0Nzcztcblx0XHRcdH1cblx0XHRcdGxldCBsb2NhbEF0dHJpYnV0ZXNDc3MgPSBDc3NGaW5kZXIuX2NvbmNhdFNlbGVjdG9ycyhwYXRoLCBhdHRyaWJ1dGVzQ3NzKTtcblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwobG9jYWxBdHRyaWJ1dGVzQ3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cmV0dXJuIGxvY2FsQXR0cmlidXRlc0Nzcztcblx0XHRcdH1cblx0XHRcdGxldCBsb2NhbENvbXBsZXhDc3MgPSBDc3NGaW5kZXIuX2NvbmNhdFNlbGVjdG9ycyhwYXRoLCBjb21wbGV4Q3NzKTtcblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwobG9jYWxDb21wbGV4Q3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cmV0dXJuIGxvY2FsQ29tcGxleENzcztcblx0XHRcdH1cblx0XHRcdGlmICh0YWdOYW1lID09PSAnYm9keScpIHtcblx0XHRcdFx0Y29uc3QgY3NzV2l0aFByZXZFbCA9IENzc0ZpbmRlci5fZ2VuZXJhdGVVbmlxdWVCeVByZXYoZmluZEVsLCB3aW4pO1xuXHRcdFx0XHRpZiAoY3NzV2l0aFByZXZFbCkge1xuXHRcdFx0XHRcdHJldHVybiBjc3NXaXRoUHJldkVsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRwYXRoLnVuc2hpZnQoY29tcGxleENzcyk7XG5cdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdHJldHVybiBwYXRoLmpvaW4oXCIgPiBcIik7XG5cdH1cblxuXHRzdGF0aWMgX2NvbmNhdFNlbGVjdG9ycyhwYXRoLCBjc3MpIHtcblx0XHRsZXQgcGF0aENzcyA9IHBhdGguam9pbihcIiA+IFwiKTtcblx0XHRpZiAocGF0aENzcyAmJiBjc3MpIHtcblx0XHRcdHJldHVybiBgJHtjc3N9ID4gJHtwYXRoQ3NzfWA7XG5cdFx0fVxuXHRcdHJldHVybiBjc3M7XG5cdH1cblxuXHRzdGF0aWMgX2dlbmVyYXRlVW5pcXVlQnlQcmV2KGZpbmRFbCwgd2luKSB7XG5cdFx0bGV0IHByZXZFbCA9IGZpbmRFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdGNvbnN0IHNlbGVjdG9ycyA9IFtdO1xuXHRcdHdoaWxlKHByZXZFbCAmJiBwcmV2RWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRsZXQgcHJldkNzcyA9IENzc0ZpbmRlci5fZ2V0UHJldlVuaXF1ZShwcmV2RWwubmV4dEVsZW1lbnRTaWJsaW5nLCB3aW4pO1xuXHRcdFx0aWYgKHByZXZDc3MpIHtcblx0XHRcdFx0c2VsZWN0b3JzLnVuc2hpZnQocHJldkNzcyk7XG5cdFx0XHRcdHJldHVybiBzZWxlY3RvcnMuam9pbignICsgJyk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgdGFnTmFtZSA9IHByZXZFbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0bGV0IGlkQ3NzID0gQ3NzRmluZGVyLl9nZXRJZFNlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRsZXQgY2xhc3NDc3MgPSBDc3NGaW5kZXIuX2dldENsYXNzZXNTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0bGV0IGF0dHJpYnV0ZXNDc3MgPSBDc3NGaW5kZXIuX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0Y29uc3QgZmluZEVsQ3NzID0gaWRDc3MgfHwgY2xhc3NDc3MgfHwgYXR0cmlidXRlc0NzcyB8fCB0YWdOYW1lO1xuXHRcdFx0c2VsZWN0b3JzLnVuc2hpZnQoZmluZEVsQ3NzKTtcblx0XHRcdHByZXZFbCA9IHByZXZFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHN0YXRpYyBfZ2V0UHJldlVuaXF1ZShuZXh0RWwsIHdpbikge1xuXHRcdGNvbnN0IHByZXZFbCA9IG5leHRFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdGlmICghcHJldkVsIHx8IHByZXZFbC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRsZXQgdGFnTmFtZSA9IG5leHRFbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdGxldCBpZENzcyA9IENzc0ZpbmRlci5fZ2V0SWRTZWxlY3RvcihuZXh0RWwpO1xuXHRcdGxldCBjbGFzc0NzcyA9IENzc0ZpbmRlci5fZ2V0Q2xhc3Nlc1NlbGVjdG9yKG5leHRFbCk7XG5cdFx0bGV0IGF0dHJpYnV0ZXNDc3MgPSBDc3NGaW5kZXIuX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihuZXh0RWwpO1xuXHRcdGNvbnN0IGZpbmRFbENzcyA9IGlkQ3NzIHx8IGNsYXNzQ3NzIHx8IGF0dHJpYnV0ZXNDc3MgfHwgdGFnTmFtZTtcblx0XHRsZXQgcHJldkVsQ3NzID0gQ3NzRmluZGVyLl9nZW5lcmF0ZVVuaXF1ZShwcmV2RWwsIHdpbik7XG5cdFx0bGV0IGNzcyA9IGAke3ByZXZFbENzc30gKyAke2ZpbmRFbENzc31gO1xuXHRcdGlmIChwcmV2RWxDc3MgJiYgQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGNzcywgbmV4dEVsLCB3aW4pKSB7XG5cdFx0XHRyZXR1cm4gY3NzO1xuXHRcdH1cblx0XHRjb25zdCBjb21wbGV4Q3NzID0gYCR7dGFnTmFtZX0ke2lkQ3NzfSR7Y2xhc3NDc3N9JHthdHRyaWJ1dGVzQ3NzfWA7XG5cdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChjb21wbGV4Q3NzLCBuZXh0RWwsIHdpbikpIHtcblx0XHRcdHJldHVybiBjb21wbGV4Q3NzO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHN0YXRpYyBfZ2VuZXJhdGVVbmlxdWUoZmluZEVsLCB3aW4pIHtcblx0XHRpZiAoIShmaW5kRWwgaW5zdGFuY2VvZiB3aW4uRWxlbWVudCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgcGF0aCA9IFtdO1xuXHRcdGxldCBlbCA9IGZpbmRFbDtcblx0XHR3aGlsZSAoZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRsZXQgdGFnTmFtZSA9IGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRsZXQgaWRDc3MgPSBDc3NGaW5kZXIuX2dldElkU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IGNsYXNzQ3NzID0gQ3NzRmluZGVyLl9nZXRDbGFzc2VzU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IGF0dHJpYnV0ZXNDc3MgPSBDc3NGaW5kZXIuX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgY29tcGxleENzcyA9IGAke3RhZ05hbWV9JHtpZENzc30ke2NsYXNzQ3NzfSR7YXR0cmlidXRlc0Nzc31gO1xuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChpZENzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHBhdGgudW5zaGlmdChpZENzcyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChjbGFzc0NzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHBhdGgudW5zaGlmdChjbGFzc0Nzcyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChhdHRyaWJ1dGVzQ3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cGF0aC51bnNoaWZ0KGF0dHJpYnV0ZXNDc3MpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwoY29tcGxleENzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHBhdGgudW5zaGlmdChjb21wbGV4Q3NzKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdHJldHVybiBwYXRoLmpvaW4oXCIgPiBcIik7XG5cdH1cblxuXHRzdGF0aWMgX2dldElkU2VsZWN0b3IoZWwpIHtcblx0XHRjb25zdCBzZWxlY3RvciA9IENzc0ZpbmRlci5fdHJ1c3RlZFNlbGVjdG9yKGVsLmlkKTtcblx0XHRpZiAoc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiBgIyR7c2VsZWN0b3J9YFxuXHRcdH1cblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRzdGF0aWMgX2dldENsYXNzZXNTZWxlY3RvcihlbCkge1xuXHRcdGNvbnN0IGNsYXNzZXMgPSBPYmplY3QudmFsdWVzKGVsLmNsYXNzTGlzdClcblx0XHRcdC5tYXAoY2xhc3NOYW1lID0+IHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gY2xhc3NOYW1lLnRyaW0oKTtcblx0XHRcdFx0Y2xhc3NOYW1lID0gQ3NzRmluZGVyLl90cnVzdGVkU2VsZWN0b3IoY2xhc3NOYW1lKTtcblx0XHRcdFx0cmV0dXJuIGNsYXNzTmFtZTtcblx0XHRcdH0pXG5cdFx0XHQuZmlsdGVyKGNsYXNzTmFtZSA9PiBCb29sZWFuKGNsYXNzTmFtZSkpO1xuXHRcdHJldHVybiBgLiR7Y2xhc3Nlcy5qb2luKCcuJyl9YDtcblx0fVxuXG5cdHN0YXRpYyBfZ2V0QXR0cmlidXRlc1NlbGVjdG9yKGVsKSB7XG5cdFx0bGV0IGF0dHJpYnV0ZXMgPSBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpXG5cdFx0XHQuZmlsdGVyKGF0dHIgPT4ge1xuXHRcdFx0XHRsZXQgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG5cdFx0XHRcdGxldCBhdHRyVmFsdWUgPSBhdHRyLnZhbHVlO1xuXHRcdFx0XHRhdHRyVmFsdWUgPSBDc3NGaW5kZXIuX3RydXN0ZWRTZWxlY3RvcihhdHRyVmFsdWUpO1xuXHRcdFx0XHRhdHRyTmFtZSA9IENzc0ZpbmRlci5fdHJ1c3RlZFNlbGVjdG9yKGF0dHJOYW1lKTtcblx0XHRcdFx0aWYgKGF0dHJWYWx1ZSA9PT0gJycgfHwgYXR0ck5hbWUgPT09ICcnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IG5hbWVJc1ZhbGlkID0gYXR0ck5hbWUgIT09ICdjbGFzcydcblx0XHRcdFx0XHQmJiBhdHRyTmFtZSAhPT0gJ2lkJ1xuXHRcdFx0XHRcdCYmIGF0dHJOYW1lICE9PSAnc3R5bGUnXG5cdFx0XHRcdFx0JiYgIWF0dHJOYW1lLnN0YXJ0c1dpdGgoJ29uJyk7XG5cdFx0XHRcdGNvbnN0IHZhbHVlSXNWYWxpZCA9IHBhcnNlSW50KGF0dHJWYWx1ZSkudG9TdHJpbmcoKSAhPT0gYXR0clZhbHVlO1xuXHRcdFx0XHRyZXR1cm4gbmFtZUlzVmFsaWQgJiYgdmFsdWVJc1ZhbGlkICYmIGF0dHJOYW1lICE9PSAnaHJlZic7XG5cdFx0XHR9KTtcblx0XHRpZiAoYXR0cmlidXRlcy5sZW5ndGgpIHtcblx0XHRcdGxldCB0ZW1wbGF0ZXMgPSBhdHRyaWJ1dGVzLm1hcChhdHRyID0+IGBbJHthdHRyLm5hbWV9PVwiJHthdHRyLnZhbHVlfVwiXWApO1xuXHRcdFx0cmV0dXJuIHRlbXBsYXRlcy5qb2luKCcnKTtcblx0XHR9XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0c3RhdGljIF9nZXRDaGlsZFNlbGVjdG9yKGVsKSB7XG5cdFx0bGV0IHByZXZFbCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cdFx0Y29uc3QgbmV4dEVsID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nO1xuXHRcdGlmICghcHJldkVsIHx8IHByZXZFbC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdHJldHVybiAnOmZpcnN0LWNoaWxkJztcblx0XHR9XG5cdFx0aWYgKCFuZXh0RWwgfHwgbmV4dEVsLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0cmV0dXJuICc6bGFzdC1jaGlsZCc7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHN0YXRpYyBfZ2V0U2libGluZ1NlbGVjdG9yKGVsLCB3aW4pIHtcblx0XHRjb25zdCBzZWxlY3RvcnMgPSBbXTtcblx0XHRsZXQgcHJldkVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHR3aGlsZShwcmV2RWwgJiYgcHJldkVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0bGV0IHRhZ05hbWUgPSBwcmV2RWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGxldCBpZENzcyA9IENzc0ZpbmRlci5fZ2V0SWRTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0bGV0IGNsYXNzQ3NzID0gQ3NzRmluZGVyLl9nZXRDbGFzc2VzU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGxldCBhdHRyaWJ1dGVzQ3NzID0gQ3NzRmluZGVyLl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGxldCBjaGlsZFNlbGVjdG9yID0gQ3NzRmluZGVyLl9nZXRDaGlsZFNlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRsZXQgY29tcGxleENzcyA9IGAke3RhZ05hbWV9JHtpZENzc30ke2NsYXNzQ3NzfSR7YXR0cmlidXRlc0Nzc30ke2NoaWxkU2VsZWN0b3J9YDtcblx0XHRcdHNlbGVjdG9ycy51bnNoaWZ0KGNvbXBsZXhDc3MpO1xuXHRcdFx0bGV0IGNzcyA9IHNlbGVjdG9ycy5qb2luKCcgKyAnKTtcblx0XHRcdGlmIChDc3NGaW5kZXIuX2lzT25seU9uZUV4aXN0RWwoY3NzLCB3aW4pKSB7XG5cdFx0XHRcdHJldHVybiBgJHtjc3N9ICsgYDtcblx0XHRcdH1cblx0XHRcdHByZXZFbCA9IHByZXZFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdH1cblx0XHRyZXR1cm4gc2VsZWN0b3JzLmxlbmd0aCA/IGAke3NlbGVjdG9ycy5qb2luKCcgKyAnKX0gKyBgIDogJyc7XG5cdH1cblxuXHRzdGF0aWMgX2NoZWNrT25seU9uZUV4aXN0RWwoY3NzLCBmaW5kRWwsIHdpbikge1xuXHRcdGxldCBmaW5kRWxzID0gW107XG5cdFx0dHJ5IHtcblx0XHRcdGZpbmRFbHMgPSBjc3MgJiYgd2luLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3NzKTtcblx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdHJldHVybiBmaW5kRWxzLmxlbmd0aCA9PT0gMSAmJiBmaW5kRWxzWzBdID09PSBmaW5kRWw7XG5cdH1cblxuXHRzdGF0aWMgX2lzT25seU9uZUV4aXN0RWwoY3NzLCB3aW4pIHtcblx0XHRsZXQgZmluZEVscyA9IFtdO1xuXHRcdHRyeSB7XG5cdFx0XHRmaW5kRWxzID0gY3NzICYmIHdpbi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNzcyk7XG5cdFx0fSBjYXRjaCAoZSkge31cblx0XHRyZXR1cm4gZmluZEVscy5sZW5ndGggPT09IDE7XG5cdH1cblxuXHRzdGF0aWMgX2lzVHJ1c3RlZFNlbGVjdG9yKHNlbGVjdG9yKSB7XG5cdFx0Y29uc3QgaGFzTnVtYmVyID0gL1swLTldezMsfS8udGVzdChzZWxlY3Rvcik7XG5cdFx0cmV0dXJuICFoYXNOdW1iZXI7XG5cdH1cblxuXHRzdGF0aWMgX3RydXN0ZWRTZWxlY3RvcihzZWxlY3Rvcikge1xuXHRcdGlmIChDc3NGaW5kZXIuX2lzVHJ1c3RlZFNlbGVjdG9yKHNlbGVjdG9yKSkge1xuXHRcdFx0cmV0dXJuIHNlbGVjdG9yO1xuXHRcdH1cblx0XHRyZXR1cm4gJyc7XG5cdH1cbn1cblxuZXhwb3J0ICBkZWZhdWx0IENzc0ZpbmRlcjtcbiIsImNsYXNzIFhQYXRoRmluZGVyIHtcblxuXHRzdGF0aWMgZ2VuZXJhdGVVbmlxdWUoZWwsIHdpbiA9IHdpbmRvdykge1xuXHRcdGlmICghKGVsIGluc3RhbmNlb2Ygd2luLkVsZW1lbnQpIHx8IGVsLnRhZ05hbWUgPT09ICdCT0RZJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBwYXRoID0gW107XG5cdFx0d2hpbGUgKGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlbC50YWdOYW1lICE9PSAnQk9EWScpIHtcblx0XHRcdGxldCB0YWdOYW1lID0gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGxldCBhdHRyaWJ1dGVzU2VsZWN0b3IgPSBYUGF0aEZpbmRlci5fZ2V0QXR0cmlidXRlc1NlbGVjdG9yKGVsKTtcblx0XHRcdGxldCB0ZXh0U2VsZWN0b3IgPSBYUGF0aEZpbmRlci5fZ2V0VGV4dFNlbGVjdG9yKGVsKTtcblx0XHRcdHBhdGgudW5zaGlmdChgJHt0YWdOYW1lfSR7YXR0cmlidXRlc1NlbGVjdG9yfSR7dGV4dFNlbGVjdG9yfWApO1xuXHRcdFx0bGV0IHhwYXRoID0gYC8vJHtwYXRoLmpvaW4oXCIvXCIpfWA7XG5cdFx0XHRjb25zdCBlbGVtZW50ID0gd2luLmRvY3VtZW50LmV2YWx1YXRlKHhwYXRoLCB3aW4uZG9jdW1lbnQsIG51bGwsXG5cdFx0XHRcdFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7XG5cdFx0XHRpZiAocGF0aC5sZW5ndGggJiYgZWxlbWVudCA9PT0gZWwpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdHJldHVybiBgLy8ke3BhdGguam9pbihcIi9cIil9YDtcblx0fVxuXG5cdHN0YXRpYyBfZ2V0QXR0cmlidXRlc1NlbGVjdG9yKGVsKSB7XG5cdFx0bGV0IGF0dHJpYnV0ZXMgPSBBcnJheS5mcm9tKGVsLmF0dHJpYnV0ZXMpLmZpbHRlcihhdHRyID0+IHtcblx0XHRcdGxldCBuYW1lID0gYXR0ci5uYW1lO1xuXHRcdFx0cmV0dXJuIG5hbWUgIT09ICdzdHlsZScgJiYgbmFtZSAhPT0gJ2hyZWYnO1xuXHRcdH0pO1xuXHRcdGlmIChhdHRyaWJ1dGVzLmxlbmd0aCkge1xuXHRcdFx0bGV0IHRlbXBsYXRlcyA9IGF0dHJpYnV0ZXMubWFwKGF0dHIgPT4gYFtAJHthdHRyLm5hbWV9PVwiJHthdHRyLnZhbHVlfVwiXWApO1xuXHRcdFx0cmV0dXJuIHRlbXBsYXRlcy5qb2luKCcnKTtcblx0XHR9XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0c3RhdGljIF9nZXRUZXh0U2VsZWN0b3IoZWwpIHtcblx0XHRjb25zdCB0ZXh0ID0gZWwub3V0ZXJUZXh0O1xuXHRcdGlmICghdGV4dCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGNvbnN0IHJlcGxhY2VTeW1ib2xzID0gL1snXFwpXFwoLFxcW1xcXV0vZztcblx0XHRjb25zdCBjb250YWlucyA9IHRleHQuc2xpY2UoMCwgNTApO1xuXHRcdGNvbnN0IHN0ciA9IGNvbnRhaW5zLnJlcGxhY2UocmVwbGFjZVN5bWJvbHMsICdcXFxcJDEnKTtcblx0XHRyZXR1cm4gYFtjb250YWlucyh0ZXh0KCksICcke3N0cn0nKV1gO1xuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBYUGF0aEZpbmRlcjsiLCJpbXBvcnQgQ3NzRmluZGVyIGZyb20gJy4vY3NzLWZpbmRlcic7XG5pbXBvcnQgWFBhdGhGaW5kZXIgZnJvbSAnLi94cGF0aC1maW5kZXInO1xuXG5mdW5jdGlvbiBfY2xlYXJGYWtlVmFsdWVzKHN0cjogc3RyaW5nLCBmYWtlVmFsdWVzOiBBcnJheTxhbnk+KSB7XG4gICAgZmFrZVZhbHVlcy5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAodmFsLCAnZycpLCAnJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGdlbmVyYXRlVW5pcXVlU2VsZWN0b3IoZWw6IEVsZW1lbnQsIHdpbiA9IHdpbmRvdywgZmFrZVZhbHVlczogQXJyYXk8YW55PiA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGNzcyA9IENzc0ZpbmRlci5nZW5lcmF0ZVVuaXF1ZShlbCwgd2luKTtcbiAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgcmV0dXJuIF9jbGVhckZha2VWYWx1ZXMoY3NzLCBmYWtlVmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB4cGF0aCA9IFhQYXRoRmluZGVyLmdlbmVyYXRlVW5pcXVlKGVsLCB3aW4pO1xuICAgICAgICBpZiAoIXhwYXRoLnN0YXJ0c1dpdGgoJy8vaHRtbCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NsZWFyRmFrZVZhbHVlcyh4cGF0aCwgZmFrZVZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=