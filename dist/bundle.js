module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{static generateUnique(e,t=window){if(!(e instanceof t.Element))return;const n=[];let l=e;for(;l.nodeType===Node.ELEMENT_NODE;){let o=l.nodeName.toLowerCase(),i=r._getIdSelector(l),c=r._getClassesSelector(l),s=r._getAttributesSelector(l),u=r._getChildSelector(l),a=`${r._getSiblingSelector(l,t)}${o}${i}${c}${s}${u}`,f=r._concatSelectors(n,i);if(r._checkOnlyOneExistEl(f,e,t))return f;let E=r._concatSelectors(n,c);if(r._checkOnlyOneExistEl(E,e,t))return E;let _=r._concatSelectors(n,s);if(r._checkOnlyOneExistEl(_,e,t))return _;let d=r._concatSelectors(n,a);if(r._checkOnlyOneExistEl(d,e,t))return d;if("body"===o){const n=r._generateUniqueByPrev(e,t);if(n)return n}n.unshift(a),l=l.parentNode}return n.join(" > ")}static _concatSelectors(e,t){let n=e.join(" > ");return n&&t?`${t} > ${n}`:t}static _generateUniqueByPrev(e,t){let n=e.previousElementSibling;const l=[];for(;n&&n.nodeType===Node.ELEMENT_NODE;){let e=r._getPrevUnique(n.nextElementSibling,t);if(e)return l.unshift(e),l.join(" + ");let o=n.nodeName.toLowerCase(),i=r._getIdSelector(n),c=r._getClassesSelector(n),s=r._getAttributesSelector(n);const u=i||c||s||o;l.unshift(u),n=n.previousElementSibling}return null}static _getPrevUnique(e,t){const n=e.previousElementSibling;if(!n||n.nodeType!==Node.ELEMENT_NODE)return null;let l=e.nodeName.toLowerCase(),o=r._getIdSelector(e),i=r._getClassesSelector(e),c=r._getAttributesSelector(e);const s=o||i||c||l;let u=r._generateUnique(n,t),a=`${u} + ${s}`;if(u&&r._checkOnlyOneExistEl(a,e,t))return a;const f=`${l}${o}${i}${c}`;return r._checkOnlyOneExistEl(f,e,t)?f:null}static _generateUnique(e,t){if(!(e instanceof t.Element))return;const n=[];let l=e;for(;l.nodeType===Node.ELEMENT_NODE;){let o=l.nodeName.toLowerCase(),i=r._getIdSelector(l),c=r._getClassesSelector(l),s=r._getAttributesSelector(l),u=`${o}${i}${c}${s}`;if(r._checkOnlyOneExistEl(i,e,t)){n.unshift(i);break}if(r._checkOnlyOneExistEl(c,e,t)){n.unshift(c);break}if(r._checkOnlyOneExistEl(s,e,t)){n.unshift(s);break}if(r._checkOnlyOneExistEl(u,e,t)){n.unshift(u);break}l=l.parentNode}return n.join(" > ")}static _getIdSelector(e){const t=r._trustedSelector(e.id);return t?`#${t}`:""}static _getClassesSelector(e){return`.${Object.values(e.classList).map(e=>(e=e.trim(),e=r._trustedSelector(e))).filter(e=>Boolean(e)).join(".")}`}static _getAttributesSelector(e){let t=Array.from(e.attributes).filter(e=>{let t=e.name,n=e.value;if(n=r._trustedSelector(n),t=r._trustedSelector(t),""===n||""===t)return!1;const l="class"!==t&&"id"!==t&&"style"!==t&&!t.startsWith("on"),o=parseInt(n).toString()!==n;return l&&o&&"href"!==t});if(t.length){return t.map(e=>`[${e.name}="${e.value}"]`).join("")}return""}static _getChildSelector(e){let t=e.previousElementSibling;const n=e.nextElementSibling;return t&&t.nodeType===Node.ELEMENT_NODE?n&&n.nodeType===Node.ELEMENT_NODE?"":":last-child":":first-child"}static _getSiblingSelector(e,t){const n=[];let l=e.previousElementSibling;for(;l&&l.nodeType===Node.ELEMENT_NODE;){let e=`${l.nodeName.toLowerCase()}${r._getIdSelector(l)}${r._getClassesSelector(l)}${r._getAttributesSelector(l)}${r._getChildSelector(l)}`;n.unshift(e);let o=n.join(" + ");if(r._isOnlyOneExistEl(o,t))return`${o} + `;l=l.previousElementSibling}return n.length?`${n.join(" + ")} + `:""}static _checkOnlyOneExistEl(e,t,n){let r=[];try{r=e&&n.document.querySelectorAll(e)}catch(e){}return 1===r.length&&r[0]===t}static _isOnlyOneExistEl(e,t){let n=[];try{n=e&&t.document.querySelectorAll(e)}catch(e){}return 1===n.length}static _isTrustedSelector(e){return!/[0-9]{3,}/.test(e)}static _trustedSelector(e){return r._isTrustedSelector(e)?e:""}}var l=r;class o{static generateUnique(e,t=window){if(!(e instanceof t.Element)||"BODY"===e.tagName)return;const n=[];for(;e.nodeType===Node.ELEMENT_NODE&&"BODY"!==e.tagName;){let r=e.nodeName.toLowerCase(),l=o._getAttributesSelector(e),i=o._getTextSelector(e);n.unshift(`${r}${l}${i}`);let c=`//${n.join("/")}`;const s=t.document.evaluate(c,t.document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(n.length&&s===e)break;e=e.parentNode}return`//${n.join("/")}`}static _getAttributesSelector(e){let t=Array.from(e.attributes).filter(e=>{let t=e.name;return"style"!==t&&"href"!==t});if(t.length){return t.map(e=>`[@${e.name}="${e.value}"]`).join("")}return""}static _getTextSelector(e){const t=e.outerText;if(!t)return null;return`[contains(text(), '${t.slice(0,50).replace(/['\)\(,\[\]]/g,"\\$1")}')]`}}var i=o;function c(e,t){return t.forEach(t=>{e=e.replace(new RegExp(t,"g"),"")}),e}t.default={generateUniqueSelector(e,t=window,n=[]){const r=l.generateUnique(e,t);if(r)return c(r,n);const o=i.generateUnique(e,t);return o.startsWith("//html")?null:c(o,n)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dc3NGaW5kZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQ3NzRmluZGVyLy4vc3JjL2Nzcy1maW5kZXIuanMiLCJ3ZWJwYWNrOi8vQ3NzRmluZGVyLy4vc3JjL3hwYXRoLWZpbmRlci5qcyIsIndlYnBhY2s6Ly9Dc3NGaW5kZXIvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDc3NGaW5kZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJmaW5kRWwiLCJ3aW4iLCJ3aW5kb3ciLCJFbGVtZW50IiwicGF0aCIsImVsIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwidGFnTmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpZENzcyIsIl9nZXRJZFNlbGVjdG9yIiwiY2xhc3NDc3MiLCJfZ2V0Q2xhc3Nlc1NlbGVjdG9yIiwiYXR0cmlidXRlc0NzcyIsIl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IiLCJjaGlsZFNlbGVjdG9yIiwiX2dldENoaWxkU2VsZWN0b3IiLCJjb21wbGV4Q3NzIiwiX2dldFNpYmxpbmdTZWxlY3RvciIsImxvY2FsSWRDc3MiLCJfY29uY2F0U2VsZWN0b3JzIiwiX2NoZWNrT25seU9uZUV4aXN0RWwiLCJsb2NhbENsYXNzQ3NzIiwibG9jYWxBdHRyaWJ1dGVzQ3NzIiwibG9jYWxDb21wbGV4Q3NzIiwiY3NzV2l0aFByZXZFbCIsIl9nZW5lcmF0ZVVuaXF1ZUJ5UHJldiIsInVuc2hpZnQiLCJwYXJlbnROb2RlIiwiam9pbiIsImNzcyIsInBhdGhDc3MiLCJwcmV2RWwiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwic2VsZWN0b3JzIiwicHJldkNzcyIsIl9nZXRQcmV2VW5pcXVlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZmluZEVsQ3NzIiwibmV4dEVsIiwicHJldkVsQ3NzIiwiX2dlbmVyYXRlVW5pcXVlIiwic2VsZWN0b3IiLCJfdHJ1c3RlZFNlbGVjdG9yIiwiaWQiLCJ2YWx1ZXMiLCJjbGFzc0xpc3QiLCJtYXAiLCJjbGFzc05hbWUiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsImF0dHJpYnV0ZXMiLCJBcnJheSIsImZyb20iLCJhdHRyIiwiYXR0ck5hbWUiLCJhdHRyVmFsdWUiLCJuYW1lSXNWYWxpZCIsInN0YXJ0c1dpdGgiLCJ2YWx1ZUlzVmFsaWQiLCJwYXJzZUludCIsInRvU3RyaW5nIiwibGVuZ3RoIiwiX2lzT25seU9uZUV4aXN0RWwiLCJmaW5kRWxzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsInRlc3QiLCJfaXNUcnVzdGVkU2VsZWN0b3IiLCJjc3NfZmluZGVyIiwiWFBhdGhGaW5kZXIiLCJhdHRyaWJ1dGVzU2VsZWN0b3IiLCJ0ZXh0U2VsZWN0b3IiLCJfZ2V0VGV4dFNlbGVjdG9yIiwieHBhdGgiLCJlbGVtZW50IiwiZXZhbHVhdGUiLCJYUGF0aFJlc3VsdCIsIkZJUlNUX09SREVSRURfTk9ERV9UWVBFIiwic2luZ2xlTm9kZVZhbHVlIiwidGV4dCIsIm91dGVyVGV4dCIsInNsaWNlIiwicmVwbGFjZSIsInhwYXRoX2ZpbmRlciIsIl9jbGVhckZha2VWYWx1ZXMiLCJzdHIiLCJmYWtlVmFsdWVzIiwiZm9yRWFjaCIsInZhbCIsIlJlZ0V4cCIsIl9fd2VicGFja19leHBvcnRzX18i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QyxLQUFBcEQsRUFBQWtELFlBQUFGLE9BQUFLLElBQ0EsSUFBQXJGLEVBQUFxRixFQUFBckYsS0FDQSxnQkFBQUEsR0FBQSxTQUFBQSxJQUVBLEdBQUFrRixFQUFBVyxPQUFBLENBRUEsT0FEQVgsRUFBQUwsSUFBQVEsUUFBK0NBLEVBQUFyRixTQUFjcUYsRUFBQTNFLFdBQzdEaUQsS0FBQSxJQUVBLFNBR0FqQyx3QkFBQU0sR0FDQSxNQUFBZ0YsRUFBQWhGLEVBQUFpRixVQUNBLElBQUFELEVBQ0EsWUFLQSw0QkFGQUEsRUFBQUUsTUFBQSxNQUNBQyxRQUZBLGdCQUVBLGNBS2UsSUFBQUMsRUFBQSxFQzVDZixTQUFTQyxFQUFpQkMsRUFBYUMsR0FJbkMsT0FIQUEsRUFBV0MsUUFBUUMsSUFDZkgsRUFBTUEsRUFBSUgsUUFBUSxJQUFJTyxPQUFPRCxFQUFLLEtBQU0sTUFFckNILEVBR0lLLEVBQUEsU0FDWGpHLHVCQUF1Qk0sRUFBYUosRUFBTUMsT0FBUTBGLEVBQXlCLElBQ3ZFLE1BQU0zRCxFQUFNeUMsRUFBVXVCLGVBQWU1RixFQUFJSixHQUN6QyxHQUFJZ0MsRUFDQSxPQUFPeUQsRUFBaUJ6RCxFQUFLMkQsR0FFakMsTUFBTWIsRUFBUVUsRUFBWVEsZUFBZTVGLEVBQUlKLEdBQzdDLE9BQUs4RSxFQUFNakIsV0FBVyxVQUdmLEtBRkk0QixFQUFpQlgsRUFBT2EiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY2xhc3MgQ3NzRmluZGVyIHtcblxuXHRzdGF0aWMgZ2VuZXJhdGVVbmlxdWUoZmluZEVsLCB3aW4gPSB3aW5kb3cpIHtcblx0XHRpZiAoIShmaW5kRWwgaW5zdGFuY2VvZiB3aW4uRWxlbWVudCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgcGF0aCA9IFtdO1xuXHRcdGxldCBlbCA9IGZpbmRFbDtcblx0XHR3aGlsZSAoZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRsZXQgdGFnTmFtZSA9IGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRsZXQgaWRDc3MgPSBDc3NGaW5kZXIuX2dldElkU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IGNsYXNzQ3NzID0gQ3NzRmluZGVyLl9nZXRDbGFzc2VzU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IGF0dHJpYnV0ZXNDc3MgPSBDc3NGaW5kZXIuX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgY2hpbGRTZWxlY3RvciA9IENzc0ZpbmRlci5fZ2V0Q2hpbGRTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgc2libGluZ1NlbGVjdG9yID0gQ3NzRmluZGVyLl9nZXRTaWJsaW5nU2VsZWN0b3IoZWwsIHdpbik7XG5cdFx0XHRsZXQgY29tcGxleENzcyA9IGAke3NpYmxpbmdTZWxlY3Rvcn0ke3RhZ05hbWV9JHtpZENzc30ke2NsYXNzQ3NzfSR7YXR0cmlidXRlc0Nzc30ke2NoaWxkU2VsZWN0b3J9YDtcblx0XHRcdGxldCBsb2NhbElkQ3NzID0gQ3NzRmluZGVyLl9jb25jYXRTZWxlY3RvcnMocGF0aCwgaWRDc3MpO1xuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChsb2NhbElkQ3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cmV0dXJuIGxvY2FsSWRDc3M7XG5cdFx0XHR9XG5cdFx0XHRsZXQgbG9jYWxDbGFzc0NzcyA9IENzc0ZpbmRlci5fY29uY2F0U2VsZWN0b3JzKHBhdGgsIGNsYXNzQ3NzKTtcblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwobG9jYWxDbGFzc0NzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHJldHVybiBsb2NhbENsYXNzQ3NzO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGxvY2FsQXR0cmlidXRlc0NzcyA9IENzc0ZpbmRlci5fY29uY2F0U2VsZWN0b3JzKHBhdGgsIGF0dHJpYnV0ZXNDc3MpO1xuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChsb2NhbEF0dHJpYnV0ZXNDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRyZXR1cm4gbG9jYWxBdHRyaWJ1dGVzQ3NzO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGxvY2FsQ29tcGxleENzcyA9IENzc0ZpbmRlci5fY29uY2F0U2VsZWN0b3JzKHBhdGgsIGNvbXBsZXhDc3MpO1xuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChsb2NhbENvbXBsZXhDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRyZXR1cm4gbG9jYWxDb21wbGV4Q3NzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRhZ05hbWUgPT09ICdib2R5Jykge1xuXHRcdFx0XHRjb25zdCBjc3NXaXRoUHJldkVsID0gQ3NzRmluZGVyLl9nZW5lcmF0ZVVuaXF1ZUJ5UHJldihmaW5kRWwsIHdpbik7XG5cdFx0XHRcdGlmIChjc3NXaXRoUHJldkVsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNzc1dpdGhQcmV2RWw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHBhdGgudW5zaGlmdChjb21wbGV4Q3NzKTtcblx0XHRcdGVsID0gZWwucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhdGguam9pbihcIiA+IFwiKTtcblx0fVxuXG5cdHN0YXRpYyBfY29uY2F0U2VsZWN0b3JzKHBhdGgsIGNzcykge1xuXHRcdGxldCBwYXRoQ3NzID0gcGF0aC5qb2luKFwiID4gXCIpO1xuXHRcdGlmIChwYXRoQ3NzICYmIGNzcykge1xuXHRcdFx0cmV0dXJuIGAke2Nzc30gPiAke3BhdGhDc3N9YDtcblx0XHR9XG5cdFx0cmV0dXJuIGNzcztcblx0fVxuXG5cdHN0YXRpYyBfZ2VuZXJhdGVVbmlxdWVCeVByZXYoZmluZEVsLCB3aW4pIHtcblx0XHRsZXQgcHJldkVsID0gZmluZEVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cdFx0Y29uc3Qgc2VsZWN0b3JzID0gW107XG5cdFx0d2hpbGUocHJldkVsICYmIHByZXZFbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdGxldCBwcmV2Q3NzID0gQ3NzRmluZGVyLl9nZXRQcmV2VW5pcXVlKHByZXZFbC5uZXh0RWxlbWVudFNpYmxpbmcsIHdpbik7XG5cdFx0XHRpZiAocHJldkNzcykge1xuXHRcdFx0XHRzZWxlY3RvcnMudW5zaGlmdChwcmV2Q3NzKTtcblx0XHRcdFx0cmV0dXJuIHNlbGVjdG9ycy5qb2luKCcgKyAnKTtcblx0XHRcdH1cblx0XHRcdGxldCB0YWdOYW1lID0gcHJldkVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRsZXQgaWRDc3MgPSBDc3NGaW5kZXIuX2dldElkU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGxldCBjbGFzc0NzcyA9IENzc0ZpbmRlci5fZ2V0Q2xhc3Nlc1NlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRsZXQgYXR0cmlidXRlc0NzcyA9IENzc0ZpbmRlci5fZ2V0QXR0cmlidXRlc1NlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRjb25zdCBmaW5kRWxDc3MgPSBpZENzcyB8fCBjbGFzc0NzcyB8fCBhdHRyaWJ1dGVzQ3NzIHx8IHRhZ05hbWU7XG5cdFx0XHRzZWxlY3RvcnMudW5zaGlmdChmaW5kRWxDc3MpO1xuXHRcdFx0cHJldkVsID0gcHJldkVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0c3RhdGljIF9nZXRQcmV2VW5pcXVlKG5leHRFbCwgd2luKSB7XG5cdFx0Y29uc3QgcHJldkVsID0gbmV4dEVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cdFx0aWYgKCFwcmV2RWwgfHwgcHJldkVsLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGxldCB0YWdOYW1lID0gbmV4dEVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0bGV0IGlkQ3NzID0gQ3NzRmluZGVyLl9nZXRJZFNlbGVjdG9yKG5leHRFbCk7XG5cdFx0bGV0IGNsYXNzQ3NzID0gQ3NzRmluZGVyLl9nZXRDbGFzc2VzU2VsZWN0b3IobmV4dEVsKTtcblx0XHRsZXQgYXR0cmlidXRlc0NzcyA9IENzc0ZpbmRlci5fZ2V0QXR0cmlidXRlc1NlbGVjdG9yKG5leHRFbCk7XG5cdFx0Y29uc3QgZmluZEVsQ3NzID0gaWRDc3MgfHwgY2xhc3NDc3MgfHwgYXR0cmlidXRlc0NzcyB8fCB0YWdOYW1lO1xuXHRcdGxldCBwcmV2RWxDc3MgPSBDc3NGaW5kZXIuX2dlbmVyYXRlVW5pcXVlKHByZXZFbCwgd2luKTtcblx0XHRsZXQgY3NzID0gYCR7cHJldkVsQ3NzfSArICR7ZmluZEVsQ3NzfWA7XG5cdFx0aWYgKHByZXZFbENzcyAmJiBDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwoY3NzLCBuZXh0RWwsIHdpbikpIHtcblx0XHRcdHJldHVybiBjc3M7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbXBsZXhDc3MgPSBgJHt0YWdOYW1lfSR7aWRDc3N9JHtjbGFzc0Nzc30ke2F0dHJpYnV0ZXNDc3N9YDtcblx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGNvbXBsZXhDc3MsIG5leHRFbCwgd2luKSkge1xuXHRcdFx0cmV0dXJuIGNvbXBsZXhDc3M7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0c3RhdGljIF9nZW5lcmF0ZVVuaXF1ZShmaW5kRWwsIHdpbikge1xuXHRcdGlmICghKGZpbmRFbCBpbnN0YW5jZW9mIHdpbi5FbGVtZW50KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBwYXRoID0gW107XG5cdFx0bGV0IGVsID0gZmluZEVsO1xuXHRcdHdoaWxlIChlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdGxldCB0YWdOYW1lID0gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGxldCBpZENzcyA9IENzc0ZpbmRlci5fZ2V0SWRTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgY2xhc3NDc3MgPSBDc3NGaW5kZXIuX2dldENsYXNzZXNTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgYXR0cmlidXRlc0NzcyA9IENzc0ZpbmRlci5fZ2V0QXR0cmlidXRlc1NlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBjb21wbGV4Q3NzID0gYCR7dGFnTmFtZX0ke2lkQ3NzfSR7Y2xhc3NDc3N9JHthdHRyaWJ1dGVzQ3NzfWA7XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGlkQ3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cGF0aC51bnNoaWZ0KGlkQ3NzKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGNsYXNzQ3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cGF0aC51bnNoaWZ0KGNsYXNzQ3NzKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGF0dHJpYnV0ZXNDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRwYXRoLnVuc2hpZnQoYXR0cmlidXRlc0Nzcyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChjb21wbGV4Q3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cGF0aC51bnNoaWZ0KGNvbXBsZXhDc3MpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGVsID0gZWwucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhdGguam9pbihcIiA+IFwiKTtcblx0fVxuXG5cdHN0YXRpYyBfZ2V0SWRTZWxlY3RvcihlbCkge1xuXHRcdGNvbnN0IHNlbGVjdG9yID0gQ3NzRmluZGVyLl90cnVzdGVkU2VsZWN0b3IoZWwuaWQpO1xuXHRcdGlmIChzZWxlY3Rvcikge1xuXHRcdFx0cmV0dXJuIGAjJHtzZWxlY3Rvcn1gXG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHN0YXRpYyBfZ2V0Q2xhc3Nlc1NlbGVjdG9yKGVsKSB7XG5cdFx0Y29uc3QgY2xhc3NlcyA9IE9iamVjdC52YWx1ZXMoZWwuY2xhc3NMaXN0KVxuXHRcdFx0Lm1hcChjbGFzc05hbWUgPT4ge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBjbGFzc05hbWUudHJpbSgpO1xuXHRcdFx0XHRjbGFzc05hbWUgPSBDc3NGaW5kZXIuX3RydXN0ZWRTZWxlY3RvcihjbGFzc05hbWUpO1xuXHRcdFx0XHRyZXR1cm4gY2xhc3NOYW1lO1xuXHRcdFx0fSlcblx0XHRcdC5maWx0ZXIoY2xhc3NOYW1lID0+IEJvb2xlYW4oY2xhc3NOYW1lKSk7XG5cdFx0cmV0dXJuIGAuJHtjbGFzc2VzLmpvaW4oJy4nKX1gO1xuXHR9XG5cblx0c3RhdGljIF9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IoZWwpIHtcblx0XHRsZXQgYXR0cmlidXRlcyA9IEFycmF5LmZyb20oZWwuYXR0cmlidXRlcylcblx0XHRcdC5maWx0ZXIoYXR0ciA9PiB7XG5cdFx0XHRcdGxldCBhdHRyTmFtZSA9IGF0dHIubmFtZTtcblx0XHRcdFx0bGV0IGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG5cdFx0XHRcdGF0dHJWYWx1ZSA9IENzc0ZpbmRlci5fdHJ1c3RlZFNlbGVjdG9yKGF0dHJWYWx1ZSk7XG5cdFx0XHRcdGF0dHJOYW1lID0gQ3NzRmluZGVyLl90cnVzdGVkU2VsZWN0b3IoYXR0ck5hbWUpO1xuXHRcdFx0XHRpZiAoYXR0clZhbHVlID09PSAnJyB8fCBhdHRyTmFtZSA9PT0gJycpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgbmFtZUlzVmFsaWQgPSBhdHRyTmFtZSAhPT0gJ2NsYXNzJ1xuXHRcdFx0XHRcdCYmIGF0dHJOYW1lICE9PSAnaWQnXG5cdFx0XHRcdFx0JiYgYXR0ck5hbWUgIT09ICdzdHlsZSdcblx0XHRcdFx0XHQmJiAhYXR0ck5hbWUuc3RhcnRzV2l0aCgnb24nKTtcblx0XHRcdFx0Y29uc3QgdmFsdWVJc1ZhbGlkID0gcGFyc2VJbnQoYXR0clZhbHVlKS50b1N0cmluZygpICE9PSBhdHRyVmFsdWU7XG5cdFx0XHRcdHJldHVybiBuYW1lSXNWYWxpZCAmJiB2YWx1ZUlzVmFsaWQgJiYgYXR0ck5hbWUgIT09ICdocmVmJztcblx0XHRcdH0pO1xuXHRcdGlmIChhdHRyaWJ1dGVzLmxlbmd0aCkge1xuXHRcdFx0bGV0IHRlbXBsYXRlcyA9IGF0dHJpYnV0ZXMubWFwKGF0dHIgPT4gYFske2F0dHIubmFtZX09XCIke2F0dHIudmFsdWV9XCJdYCk7XG5cdFx0XHRyZXR1cm4gdGVtcGxhdGVzLmpvaW4oJycpO1xuXHRcdH1cblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRzdGF0aWMgX2dldENoaWxkU2VsZWN0b3IoZWwpIHtcblx0XHRsZXQgcHJldkVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHRjb25zdCBuZXh0RWwgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdFx0aWYgKCFwcmV2RWwgfHwgcHJldkVsLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0cmV0dXJuICc6Zmlyc3QtY2hpbGQnO1xuXHRcdH1cblx0XHRpZiAoIW5leHRFbCB8fCBuZXh0RWwubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRyZXR1cm4gJzpsYXN0LWNoaWxkJztcblx0XHR9XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0c3RhdGljIF9nZXRTaWJsaW5nU2VsZWN0b3IoZWwsIHdpbikge1xuXHRcdGNvbnN0IHNlbGVjdG9ycyA9IFtdO1xuXHRcdGxldCBwcmV2RWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdHdoaWxlKHByZXZFbCAmJiBwcmV2RWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRsZXQgdGFnTmFtZSA9IHByZXZFbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0bGV0IGlkQ3NzID0gQ3NzRmluZGVyLl9nZXRJZFNlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRsZXQgY2xhc3NDc3MgPSBDc3NGaW5kZXIuX2dldENsYXNzZXNTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0bGV0IGF0dHJpYnV0ZXNDc3MgPSBDc3NGaW5kZXIuX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0bGV0IGNoaWxkU2VsZWN0b3IgPSBDc3NGaW5kZXIuX2dldENoaWxkU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGxldCBjb21wbGV4Q3NzID0gYCR7dGFnTmFtZX0ke2lkQ3NzfSR7Y2xhc3NDc3N9JHthdHRyaWJ1dGVzQ3NzfSR7Y2hpbGRTZWxlY3Rvcn1gO1xuXHRcdFx0c2VsZWN0b3JzLnVuc2hpZnQoY29tcGxleENzcyk7XG5cdFx0XHRsZXQgY3NzID0gc2VsZWN0b3JzLmpvaW4oJyArICcpO1xuXHRcdFx0aWYgKENzc0ZpbmRlci5faXNPbmx5T25lRXhpc3RFbChjc3MsIHdpbikpIHtcblx0XHRcdFx0cmV0dXJuIGAke2Nzc30gKyBgO1xuXHRcdFx0fVxuXHRcdFx0cHJldkVsID0gcHJldkVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cdFx0fVxuXHRcdHJldHVybiBzZWxlY3RvcnMubGVuZ3RoID8gYCR7c2VsZWN0b3JzLmpvaW4oJyArICcpfSArIGAgOiAnJztcblx0fVxuXG5cdHN0YXRpYyBfY2hlY2tPbmx5T25lRXhpc3RFbChjc3MsIGZpbmRFbCwgd2luKSB7XG5cdFx0bGV0IGZpbmRFbHMgPSBbXTtcblx0XHR0cnkge1xuXHRcdFx0ZmluZEVscyA9IGNzcyAmJiB3aW4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3MpO1xuXHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0cmV0dXJuIGZpbmRFbHMubGVuZ3RoID09PSAxICYmIGZpbmRFbHNbMF0gPT09IGZpbmRFbDtcblx0fVxuXG5cdHN0YXRpYyBfaXNPbmx5T25lRXhpc3RFbChjc3MsIHdpbikge1xuXHRcdGxldCBmaW5kRWxzID0gW107XG5cdFx0dHJ5IHtcblx0XHRcdGZpbmRFbHMgPSBjc3MgJiYgd2luLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3NzKTtcblx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdHJldHVybiBmaW5kRWxzLmxlbmd0aCA9PT0gMTtcblx0fVxuXG5cdHN0YXRpYyBfaXNUcnVzdGVkU2VsZWN0b3Ioc2VsZWN0b3IpIHtcblx0XHRjb25zdCBoYXNOdW1iZXIgPSAvWzAtOV17Myx9Ly50ZXN0KHNlbGVjdG9yKTtcblx0XHRyZXR1cm4gIWhhc051bWJlcjtcblx0fVxuXG5cdHN0YXRpYyBfdHJ1c3RlZFNlbGVjdG9yKHNlbGVjdG9yKSB7XG5cdFx0aWYgKENzc0ZpbmRlci5faXNUcnVzdGVkU2VsZWN0b3Ioc2VsZWN0b3IpKSB7XG5cdFx0XHRyZXR1cm4gc2VsZWN0b3I7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxufVxuXG5leHBvcnQgIGRlZmF1bHQgQ3NzRmluZGVyO1xuIiwiY2xhc3MgWFBhdGhGaW5kZXIge1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVVuaXF1ZShlbCwgd2luID0gd2luZG93KSB7XG5cdFx0aWYgKCEoZWwgaW5zdGFuY2VvZiB3aW4uRWxlbWVudCkgfHwgZWwudGFnTmFtZSA9PT0gJ0JPRFknKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHBhdGggPSBbXTtcblx0XHR3aGlsZSAoZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVsLnRhZ05hbWUgIT09ICdCT0RZJykge1xuXHRcdFx0bGV0IHRhZ05hbWUgPSBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0bGV0IGF0dHJpYnV0ZXNTZWxlY3RvciA9IFhQYXRoRmluZGVyLl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IHRleHRTZWxlY3RvciA9IFhQYXRoRmluZGVyLl9nZXRUZXh0U2VsZWN0b3IoZWwpO1xuXHRcdFx0cGF0aC51bnNoaWZ0KGAke3RhZ05hbWV9JHthdHRyaWJ1dGVzU2VsZWN0b3J9JHt0ZXh0U2VsZWN0b3J9YCk7XG5cdFx0XHRsZXQgeHBhdGggPSBgLy8ke3BhdGguam9pbihcIi9cIil9YDtcblx0XHRcdGNvbnN0IGVsZW1lbnQgPSB3aW4uZG9jdW1lbnQuZXZhbHVhdGUoeHBhdGgsIHdpbi5kb2N1bWVudCwgbnVsbCxcblx0XHRcdFx0WFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpLnNpbmdsZU5vZGVWYWx1ZTtcblx0XHRcdGlmIChwYXRoLmxlbmd0aCAmJiBlbGVtZW50ID09PSBlbCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGVsID0gZWwucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0cmV0dXJuIGAvLyR7cGF0aC5qb2luKFwiL1wiKX1gO1xuXHR9XG5cblx0c3RhdGljIF9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IoZWwpIHtcblx0XHRsZXQgYXR0cmlidXRlcyA9IEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykuZmlsdGVyKGF0dHIgPT4ge1xuXHRcdFx0bGV0IG5hbWUgPSBhdHRyLm5hbWU7XG5cdFx0XHRyZXR1cm4gbmFtZSAhPT0gJ3N0eWxlJyAmJiBuYW1lICE9PSAnaHJlZic7XG5cdFx0fSk7XG5cdFx0aWYgKGF0dHJpYnV0ZXMubGVuZ3RoKSB7XG5cdFx0XHRsZXQgdGVtcGxhdGVzID0gYXR0cmlidXRlcy5tYXAoYXR0ciA9PiBgW0Ake2F0dHIubmFtZX09XCIke2F0dHIudmFsdWV9XCJdYCk7XG5cdFx0XHRyZXR1cm4gdGVtcGxhdGVzLmpvaW4oJycpO1xuXHRcdH1cblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRzdGF0aWMgX2dldFRleHRTZWxlY3RvcihlbCkge1xuXHRcdGNvbnN0IHRleHQgPSBlbC5vdXRlclRleHQ7XG5cdFx0aWYgKCF0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0Y29uc3QgcmVwbGFjZVN5bWJvbHMgPSAvWydcXClcXCgsXFxbXFxdXS9nO1xuXHRcdGNvbnN0IGNvbnRhaW5zID0gdGV4dC5zbGljZSgwLCA1MCk7XG5cdFx0Y29uc3Qgc3RyID0gY29udGFpbnMucmVwbGFjZShyZXBsYWNlU3ltYm9scywgJ1xcXFwkMScpO1xuXHRcdHJldHVybiBgW2NvbnRhaW5zKHRleHQoKSwgJyR7c3RyfScpXWA7XG5cdH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFhQYXRoRmluZGVyOyIsImltcG9ydCBDc3NGaW5kZXIgZnJvbSAnLi9jc3MtZmluZGVyJztcbmltcG9ydCBYUGF0aEZpbmRlciBmcm9tICcuL3hwYXRoLWZpbmRlcic7XG5cbmZ1bmN0aW9uIF9jbGVhckZha2VWYWx1ZXMoc3RyOiBzdHJpbmcsIGZha2VWYWx1ZXM6IEFycmF5PGFueT4pIHtcbiAgICBmYWtlVmFsdWVzLmZvckVhY2godmFsID0+IHtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCh2YWwsICdnJyksICcnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZ2VuZXJhdGVVbmlxdWVTZWxlY3RvcihlbDogRWxlbWVudCwgd2luID0gd2luZG93LCBmYWtlVmFsdWVzOiBBcnJheTxhbnk+ID0gW10pIHtcbiAgICAgICAgY29uc3QgY3NzID0gQ3NzRmluZGVyLmdlbmVyYXRlVW5pcXVlKGVsLCB3aW4pO1xuICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NsZWFyRmFrZVZhbHVlcyhjc3MsIGZha2VWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHhwYXRoID0gWFBhdGhGaW5kZXIuZ2VuZXJhdGVVbmlxdWUoZWwsIHdpbik7XG4gICAgICAgIGlmICgheHBhdGguc3RhcnRzV2l0aCgnLy9odG1sJykpIHtcbiAgICAgICAgICAgIHJldHVybiBfY2xlYXJGYWtlVmFsdWVzKHhwYXRoLCBmYWtlVmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==