module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{static generateUnique(e,t=window){if(!(e instanceof t.Element))return;const n=[];let l=e;for(;l.nodeType===Node.ELEMENT_NODE;){let o=l.nodeName.toLowerCase(),i=r._getIdSelector(l),c=r._getClassesSelector(l),s=r._getAttributesSelector(l),u=r._getChildSelector(l),a=`${r._getSiblingSelector(l,t)}${o}${i}${c}${s}${u}`,f=r._concatSelectors(n,i);if(r._checkOnlyOneExistEl(f,e,t))return f;let E=r._concatSelectors(n,c);if(r._checkOnlyOneExistEl(E,e,t))return E;let _=r._concatSelectors(n,s);if(r._checkOnlyOneExistEl(_,e,t))return _;let d=r._concatSelectors(n,a);if(r._checkOnlyOneExistEl(d,e,t))return d;if("body"===o){const n=r._generateUniqueByPrev(e,t);if(n)return n}n.unshift(a),l=l.parentNode}return n.join(" > ")}static _concatSelectors(e,t){let n=e.join(" > ");return n&&t?`${t} > ${n}`:t}static _generateUniqueByPrev(e,t){let n=e.previousElementSibling;const l=[];for(;n&&n.nodeType===Node.ELEMENT_NODE;){let e=r._getPrevUnique(n.nextElementSibling,t);if(e)return l.unshift(e),l.join(" + ");let o=n.nodeName.toLowerCase(),i=r._getIdSelector(n),c=r._getClassesSelector(n),s=r._getAttributesSelector(n);const u=i||c||s||o;l.unshift(u),n=n.previousElementSibling}return null}static _getPrevUnique(e,t){const n=e.previousElementSibling;if(!n||n.nodeType!==Node.ELEMENT_NODE)return null;let l=e.nodeName.toLowerCase(),o=r._getIdSelector(e),i=r._getClassesSelector(e),c=r._getAttributesSelector(e);const s=o||i||c||l;let u=r._generateUnique(n,t),a=`${u} + ${s}`;if(u&&r._checkOnlyOneExistEl(a,e,t))return a;const f=`${l}${o}${i}${c}`;return r._checkOnlyOneExistEl(f,e,t)?f:null}static _generateUnique(e,t){if(!(e instanceof t.Element))return;const n=[];let l=e;for(;l.nodeType===Node.ELEMENT_NODE;){let o=l.nodeName.toLowerCase(),i=r._getIdSelector(l),c=r._getClassesSelector(l),s=r._getAttributesSelector(l),u=`${o}${i}${c}${s}`;if(r._checkOnlyOneExistEl(i,e,t)){n.unshift(i);break}if(r._checkOnlyOneExistEl(c,e,t)){n.unshift(c);break}if(r._checkOnlyOneExistEl(s,e,t)){n.unshift(s);break}if(r._checkOnlyOneExistEl(u,e,t)){n.unshift(u);break}l=l.parentNode}return n.join(" > ")}static _getIdSelector(e){const t=r._trustedSelector(e.id);return t?`#${t}`:""}static _getClassesSelector(e){return`.${Object.values(e.classList).map(e=>(e=e.trim(),e=r._trustedSelector(e))).filter(e=>Boolean(e)).join(".")}`}static _getAttributesSelector(e){let t=Array.from(e.attributes).filter(e=>{let t=e.name,n=e.value;if(n=r._trustedSelector(n),t=r._trustedSelector(t),""===n||""===t)return!1;const l="class"!==t&&"id"!==t&&"style"!==t&&!t.startsWith("on"),o=parseInt(n).toString()!==n;return l&&o&&"href"!==t});if(t.length){return t.map(e=>`[${e.name}="${e.value}"]`).join("")}return""}static _getChildSelector(e){let t=e.previousElementSibling;const n=e.nextElementSibling;return t&&t.nodeType===Node.ELEMENT_NODE?n&&n.nodeType===Node.ELEMENT_NODE?"":":last-child":":first-child"}static _getSiblingSelector(e,t){const n=[];let l=e.previousElementSibling;for(;l&&l.nodeType===Node.ELEMENT_NODE;){let e=`${l.nodeName.toLowerCase()}${r._getIdSelector(l)}${r._getClassesSelector(l)}${r._getAttributesSelector(l)}${r._getChildSelector(l)}`;n.unshift(e);let o=n.join(" + ");if(r._isOnlyOneExistEl(o,t))return`${o} + `;l=l.previousElementSibling}return n.length?`${n.join(" + ")} + `:""}static _checkOnlyOneExistEl(e,t,n){let r=[];try{r=e&&n.document.querySelectorAll(e)}catch(e){}return 1===r.length&&r[0]===t}static _isOnlyOneExistEl(e,t){let n=[];try{n=e&&t.document.querySelectorAll(e)}catch(e){}return 1===n.length}static _isTrustedSelector(e){return!/[0-9]{3,}/.test(e)}static _trustedSelector(e){return r._isTrustedSelector(e)?e:""}}var l=r;class o{static generateUnique(e,t=window){if(!(e instanceof t.Element)||"BODY"===e.tagName)return;const n=[];for(;e.nodeType===Node.ELEMENT_NODE&&"BODY"!==e.tagName;){let r=e.nodeName.toLowerCase(),l=o._getAttributesSelector(e),i=o._getTextSelector(e);n.unshift(`${r}${l}${i}`);let c=`//${n.join("/")}`;const s=t.document.evaluate(c,t.document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(n.length&&s===e)break;e=e.parentNode}return`//${n.join("/")}`}static _getAttributesSelector(e){let t=Array.from(e.attributes).filter(e=>{let t=e.name;return"style"!==t&&"href"!==t});if(t.length){return t.map(e=>`[@${e.name}="${e.value}"]`).join("")}return""}static _getTextSelector(e){const t=e.outerText;if(!t)return null;return`[contains(text(), '${t.slice(0,50).replace(/['\)\(,\[\]]/g,"\\$1")}')]`}}var i=o;function c(e,t){return t.forEach(t=>{e=e.replace(new RegExp(t,"g"),"")}),e}t.default={generateUniqueSelector(e,t=window,n=[]){const r=l.generateUnique(e,t);if(r)return c(r,n);const o=i.generateUnique(e,t);return o.startsWith("//html")?null:c(o,n)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Dc3NGaW5kZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQ3NzRmluZGVyLy4vc3JjL2Nzcy1maW5kZXIuanMiLCJ3ZWJwYWNrOi8vQ3NzRmluZGVyLy4vc3JjL3hwYXRoLWZpbmRlci5qcyIsIndlYnBhY2s6Ly9Dc3NGaW5kZXIvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDc3NGaW5kZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJmaW5kRWwiLCJ3aW4iLCJ3aW5kb3ciLCJFbGVtZW50IiwicGF0aCIsImVsIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwidGFnTmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpZENzcyIsIl9nZXRJZFNlbGVjdG9yIiwiY2xhc3NDc3MiLCJfZ2V0Q2xhc3Nlc1NlbGVjdG9yIiwiYXR0cmlidXRlc0NzcyIsIl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IiLCJjaGlsZFNlbGVjdG9yIiwiX2dldENoaWxkU2VsZWN0b3IiLCJjb21wbGV4Q3NzIiwiX2dldFNpYmxpbmdTZWxlY3RvciIsImxvY2FsSWRDc3MiLCJfY29uY2F0U2VsZWN0b3JzIiwiX2NoZWNrT25seU9uZUV4aXN0RWwiLCJsb2NhbENsYXNzQ3NzIiwibG9jYWxBdHRyaWJ1dGVzQ3NzIiwibG9jYWxDb21wbGV4Q3NzIiwiY3NzV2l0aFByZXZFbCIsIl9nZW5lcmF0ZVVuaXF1ZUJ5UHJldiIsInVuc2hpZnQiLCJwYXJlbnROb2RlIiwiam9pbiIsImNzcyIsInBhdGhDc3MiLCJwcmV2RWwiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwic2VsZWN0b3JzIiwicHJldkNzcyIsIl9nZXRQcmV2VW5pcXVlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZmluZEVsQ3NzIiwibmV4dEVsIiwicHJldkVsQ3NzIiwiX2dlbmVyYXRlVW5pcXVlIiwic2VsZWN0b3IiLCJfdHJ1c3RlZFNlbGVjdG9yIiwiaWQiLCJ2YWx1ZXMiLCJjbGFzc0xpc3QiLCJtYXAiLCJjbGFzc05hbWUiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsImF0dHJpYnV0ZXMiLCJBcnJheSIsImZyb20iLCJhdHRyIiwiYXR0ck5hbWUiLCJhdHRyVmFsdWUiLCJuYW1lSXNWYWxpZCIsInN0YXJ0c1dpdGgiLCJ2YWx1ZUlzVmFsaWQiLCJwYXJzZUludCIsInRvU3RyaW5nIiwibGVuZ3RoIiwiX2lzT25seU9uZUV4aXN0RWwiLCJmaW5kRWxzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsInRlc3QiLCJfaXNUcnVzdGVkU2VsZWN0b3IiLCJjc3NfZmluZGVyIiwiWFBhdGhGaW5kZXIiLCJhdHRyaWJ1dGVzU2VsZWN0b3IiLCJ0ZXh0U2VsZWN0b3IiLCJfZ2V0VGV4dFNlbGVjdG9yIiwieHBhdGgiLCJlbGVtZW50IiwiZXZhbHVhdGUiLCJYUGF0aFJlc3VsdCIsIkZJUlNUX09SREVSRURfTk9ERV9UWVBFIiwic2luZ2xlTm9kZVZhbHVlIiwidGV4dCIsIm91dGVyVGV4dCIsInNsaWNlIiwicmVwbGFjZSIsInhwYXRoX2ZpbmRlciIsIl9jbGVhckZha2VWYWx1ZXMiLCJzdHIiLCJmYWtlVmFsdWVzIiwiZm9yRWFjaCIsInZhbCIsIlJlZ0V4cCIsIl9fd2VicGFja19leHBvcnRzX18i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QyxLQUFBcEQsRUFBQWtELFlBQUFGLE9BQUFLLElBQ0EsSUFBQXJGLEVBQUFxRixFQUFBckYsS0FDQSxnQkFBQUEsR0FBQSxTQUFBQSxJQUVBLEdBQUFrRixFQUFBVyxPQUFBLENBRUEsT0FEQVgsRUFBQUwsSUFBQVEsUUFBK0NBLEVBQUFyRixTQUFjcUYsRUFBQTNFLFdBQzdEaUQsS0FBQSxJQUVBLFNBR0FqQyx3QkFBQU0sR0FDQSxNQUFBZ0YsRUFBQWhGLEVBQUFpRixVQUNBLElBQUFELEVBQ0EsWUFLQSw0QkFGQUEsRUFBQUUsTUFBQSxNQUNBQyxRQUZBLGdCQUVBLGNBS2UsSUFBQUMsRUFBQSxFQzVDZixTQUFTQyxFQUFpQkMsRUFBYUMsR0FJbkMsT0FIQUEsRUFBV0MsUUFBUUMsSUFDZkgsRUFBTUEsRUFBSUgsUUFBUSxJQUFJTyxPQUFPRCxFQUFLLEtBQU0sTUFFckNILEVBR0lLLEVBQUEsU0FDWGpHLHVCQUF1Qk0sRUFBYUosRUFBTUMsT0FBUTBGLEVBQXlCLElBQ3ZFLE1BQU0zRCxFQUFNeUMsRUFBVXVCLGVBQWU1RixFQUFJSixHQUN6QyxHQUFJZ0MsRUFDQSxPQUFPeUQsRUFBaUJ6RCxFQUFLMkQsR0FFakMsTUFBTWIsRUFBUVUsRUFBWVEsZUFBZTVGLEVBQUlKLEdBQzdDLE9BQUs4RSxFQUFNakIsV0FBVyxVQUdmLEtBRkk0QixFQUFpQlgsRUFBT2EiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjbGFzcyBDc3NGaW5kZXIge1xuXG5cdHN0YXRpYyBnZW5lcmF0ZVVuaXF1ZShmaW5kRWwsIHdpbiA9IHdpbmRvdykge1xuXHRcdGlmICghKGZpbmRFbCBpbnN0YW5jZW9mIHdpbi5FbGVtZW50KSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBwYXRoID0gW107XG5cdFx0bGV0IGVsID0gZmluZEVsO1xuXHRcdHdoaWxlIChlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdGxldCB0YWdOYW1lID0gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGxldCBpZENzcyA9IENzc0ZpbmRlci5fZ2V0SWRTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgY2xhc3NDc3MgPSBDc3NGaW5kZXIuX2dldENsYXNzZXNTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgYXR0cmlidXRlc0NzcyA9IENzc0ZpbmRlci5fZ2V0QXR0cmlidXRlc1NlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBjaGlsZFNlbGVjdG9yID0gQ3NzRmluZGVyLl9nZXRDaGlsZFNlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBzaWJsaW5nU2VsZWN0b3IgPSBDc3NGaW5kZXIuX2dldFNpYmxpbmdTZWxlY3RvcihlbCwgd2luKTtcblx0XHRcdGxldCBjb21wbGV4Q3NzID0gYCR7c2libGluZ1NlbGVjdG9yfSR7dGFnTmFtZX0ke2lkQ3NzfSR7Y2xhc3NDc3N9JHthdHRyaWJ1dGVzQ3NzfSR7Y2hpbGRTZWxlY3Rvcn1gO1xuXHRcdFx0bGV0IGxvY2FsSWRDc3MgPSBDc3NGaW5kZXIuX2NvbmNhdFNlbGVjdG9ycyhwYXRoLCBpZENzcyk7XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGxvY2FsSWRDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRyZXR1cm4gbG9jYWxJZENzcztcblx0XHRcdH1cblx0XHRcdGxldCBsb2NhbENsYXNzQ3NzID0gQ3NzRmluZGVyLl9jb25jYXRTZWxlY3RvcnMocGF0aCwgY2xhc3NDc3MpO1xuXHRcdFx0aWYgKENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChsb2NhbENsYXNzQ3NzLCBmaW5kRWwsIHdpbikpIHtcblx0XHRcdFx0cmV0dXJuIGxvY2FsQ2xhc3NDc3M7XG5cdFx0XHR9XG5cdFx0XHRsZXQgbG9jYWxBdHRyaWJ1dGVzQ3NzID0gQ3NzRmluZGVyLl9jb25jYXRTZWxlY3RvcnMocGF0aCwgYXR0cmlidXRlc0Nzcyk7XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGxvY2FsQXR0cmlidXRlc0NzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHJldHVybiBsb2NhbEF0dHJpYnV0ZXNDc3M7XG5cdFx0XHR9XG5cdFx0XHRsZXQgbG9jYWxDb21wbGV4Q3NzID0gQ3NzRmluZGVyLl9jb25jYXRTZWxlY3RvcnMocGF0aCwgY29tcGxleENzcyk7XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGxvY2FsQ29tcGxleENzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHJldHVybiBsb2NhbENvbXBsZXhDc3M7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGFnTmFtZSA9PT0gJ2JvZHknKSB7XG5cdFx0XHRcdGNvbnN0IGNzc1dpdGhQcmV2RWwgPSBDc3NGaW5kZXIuX2dlbmVyYXRlVW5pcXVlQnlQcmV2KGZpbmRFbCwgd2luKTtcblx0XHRcdFx0aWYgKGNzc1dpdGhQcmV2RWwpIHtcblx0XHRcdFx0XHRyZXR1cm4gY3NzV2l0aFByZXZFbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cGF0aC51bnNoaWZ0KGNvbXBsZXhDc3MpO1xuXHRcdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xuXHRcdH1cblx0XHRyZXR1cm4gcGF0aC5qb2luKFwiID4gXCIpO1xuXHR9XG5cblx0c3RhdGljIF9jb25jYXRTZWxlY3RvcnMocGF0aCwgY3NzKSB7XG5cdFx0bGV0IHBhdGhDc3MgPSBwYXRoLmpvaW4oXCIgPiBcIik7XG5cdFx0aWYgKHBhdGhDc3MgJiYgY3NzKSB7XG5cdFx0XHRyZXR1cm4gYCR7Y3NzfSA+ICR7cGF0aENzc31gO1xuXHRcdH1cblx0XHRyZXR1cm4gY3NzO1xuXHR9XG5cblx0c3RhdGljIF9nZW5lcmF0ZVVuaXF1ZUJ5UHJldihmaW5kRWwsIHdpbikge1xuXHRcdGxldCBwcmV2RWwgPSBmaW5kRWwucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHRjb25zdCBzZWxlY3RvcnMgPSBbXTtcblx0XHR3aGlsZShwcmV2RWwgJiYgcHJldkVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0bGV0IHByZXZDc3MgPSBDc3NGaW5kZXIuX2dldFByZXZVbmlxdWUocHJldkVsLm5leHRFbGVtZW50U2libGluZywgd2luKTtcblx0XHRcdGlmIChwcmV2Q3NzKSB7XG5cdFx0XHRcdHNlbGVjdG9ycy51bnNoaWZ0KHByZXZDc3MpO1xuXHRcdFx0XHRyZXR1cm4gc2VsZWN0b3JzLmpvaW4oJyArICcpO1xuXHRcdFx0fVxuXHRcdFx0bGV0IHRhZ05hbWUgPSBwcmV2RWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGxldCBpZENzcyA9IENzc0ZpbmRlci5fZ2V0SWRTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0bGV0IGNsYXNzQ3NzID0gQ3NzRmluZGVyLl9nZXRDbGFzc2VzU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGxldCBhdHRyaWJ1dGVzQ3NzID0gQ3NzRmluZGVyLl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGNvbnN0IGZpbmRFbENzcyA9IGlkQ3NzIHx8IGNsYXNzQ3NzIHx8IGF0dHJpYnV0ZXNDc3MgfHwgdGFnTmFtZTtcblx0XHRcdHNlbGVjdG9ycy51bnNoaWZ0KGZpbmRFbENzcyk7XG5cdFx0XHRwcmV2RWwgPSBwcmV2RWwucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRzdGF0aWMgX2dldFByZXZVbmlxdWUobmV4dEVsLCB3aW4pIHtcblx0XHRjb25zdCBwcmV2RWwgPSBuZXh0RWwucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHRpZiAoIXByZXZFbCB8fCBwcmV2RWwubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0bGV0IHRhZ05hbWUgPSBuZXh0RWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRsZXQgaWRDc3MgPSBDc3NGaW5kZXIuX2dldElkU2VsZWN0b3IobmV4dEVsKTtcblx0XHRsZXQgY2xhc3NDc3MgPSBDc3NGaW5kZXIuX2dldENsYXNzZXNTZWxlY3RvcihuZXh0RWwpO1xuXHRcdGxldCBhdHRyaWJ1dGVzQ3NzID0gQ3NzRmluZGVyLl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IobmV4dEVsKTtcblx0XHRjb25zdCBmaW5kRWxDc3MgPSBpZENzcyB8fCBjbGFzc0NzcyB8fCBhdHRyaWJ1dGVzQ3NzIHx8IHRhZ05hbWU7XG5cdFx0bGV0IHByZXZFbENzcyA9IENzc0ZpbmRlci5fZ2VuZXJhdGVVbmlxdWUocHJldkVsLCB3aW4pO1xuXHRcdGxldCBjc3MgPSBgJHtwcmV2RWxDc3N9ICsgJHtmaW5kRWxDc3N9YDtcblx0XHRpZiAocHJldkVsQ3NzICYmIENzc0ZpbmRlci5fY2hlY2tPbmx5T25lRXhpc3RFbChjc3MsIG5leHRFbCwgd2luKSkge1xuXHRcdFx0cmV0dXJuIGNzcztcblx0XHR9XG5cdFx0Y29uc3QgY29tcGxleENzcyA9IGAke3RhZ05hbWV9JHtpZENzc30ke2NsYXNzQ3NzfSR7YXR0cmlidXRlc0Nzc31gO1xuXHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwoY29tcGxleENzcywgbmV4dEVsLCB3aW4pKSB7XG5cdFx0XHRyZXR1cm4gY29tcGxleENzcztcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRzdGF0aWMgX2dlbmVyYXRlVW5pcXVlKGZpbmRFbCwgd2luKSB7XG5cdFx0aWYgKCEoZmluZEVsIGluc3RhbmNlb2Ygd2luLkVsZW1lbnQpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHBhdGggPSBbXTtcblx0XHRsZXQgZWwgPSBmaW5kRWw7XG5cdFx0d2hpbGUgKGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuXHRcdFx0bGV0IHRhZ05hbWUgPSBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0bGV0IGlkQ3NzID0gQ3NzRmluZGVyLl9nZXRJZFNlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBjbGFzc0NzcyA9IENzc0ZpbmRlci5fZ2V0Q2xhc3Nlc1NlbGVjdG9yKGVsKTtcblx0XHRcdGxldCBhdHRyaWJ1dGVzQ3NzID0gQ3NzRmluZGVyLl9nZXRBdHRyaWJ1dGVzU2VsZWN0b3IoZWwpO1xuXHRcdFx0bGV0IGNvbXBsZXhDc3MgPSBgJHt0YWdOYW1lfSR7aWRDc3N9JHtjbGFzc0Nzc30ke2F0dHJpYnV0ZXNDc3N9YDtcblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwoaWRDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRwYXRoLnVuc2hpZnQoaWRDc3MpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwoY2xhc3NDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRwYXRoLnVuc2hpZnQoY2xhc3NDc3MpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmIChDc3NGaW5kZXIuX2NoZWNrT25seU9uZUV4aXN0RWwoYXR0cmlidXRlc0NzcywgZmluZEVsLCB3aW4pKSB7XG5cdFx0XHRcdHBhdGgudW5zaGlmdChhdHRyaWJ1dGVzQ3NzKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9jaGVja09ubHlPbmVFeGlzdEVsKGNvbXBsZXhDc3MsIGZpbmRFbCwgd2luKSkge1xuXHRcdFx0XHRwYXRoLnVuc2hpZnQoY29tcGxleENzcyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xuXHRcdH1cblx0XHRyZXR1cm4gcGF0aC5qb2luKFwiID4gXCIpO1xuXHR9XG5cblx0c3RhdGljIF9nZXRJZFNlbGVjdG9yKGVsKSB7XG5cdFx0Y29uc3Qgc2VsZWN0b3IgPSBDc3NGaW5kZXIuX3RydXN0ZWRTZWxlY3RvcihlbC5pZCk7XG5cdFx0aWYgKHNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm4gYCMke3NlbGVjdG9yfWBcblx0XHR9XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0c3RhdGljIF9nZXRDbGFzc2VzU2VsZWN0b3IoZWwpIHtcblx0XHRjb25zdCBjbGFzc2VzID0gT2JqZWN0LnZhbHVlcyhlbC5jbGFzc0xpc3QpXG5cdFx0XHQubWFwKGNsYXNzTmFtZSA9PiB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IGNsYXNzTmFtZS50cmltKCk7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IENzc0ZpbmRlci5fdHJ1c3RlZFNlbGVjdG9yKGNsYXNzTmFtZSk7XG5cdFx0XHRcdHJldHVybiBjbGFzc05hbWU7XG5cdFx0XHR9KVxuXHRcdFx0LmZpbHRlcihjbGFzc05hbWUgPT4gQm9vbGVhbihjbGFzc05hbWUpKTtcblx0XHRyZXR1cm4gYC4ke2NsYXNzZXMuam9pbignLicpfWA7XG5cdH1cblxuXHRzdGF0aWMgX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihlbCkge1xuXHRcdGxldCBhdHRyaWJ1dGVzID0gQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKVxuXHRcdFx0LmZpbHRlcihhdHRyID0+IHtcblx0XHRcdFx0bGV0IGF0dHJOYW1lID0gYXR0ci5uYW1lO1xuXHRcdFx0XHRsZXQgYXR0clZhbHVlID0gYXR0ci52YWx1ZTtcblx0XHRcdFx0YXR0clZhbHVlID0gQ3NzRmluZGVyLl90cnVzdGVkU2VsZWN0b3IoYXR0clZhbHVlKTtcblx0XHRcdFx0YXR0ck5hbWUgPSBDc3NGaW5kZXIuX3RydXN0ZWRTZWxlY3RvcihhdHRyTmFtZSk7XG5cdFx0XHRcdGlmIChhdHRyVmFsdWUgPT09ICcnIHx8IGF0dHJOYW1lID09PSAnJykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBuYW1lSXNWYWxpZCA9IGF0dHJOYW1lICE9PSAnY2xhc3MnXG5cdFx0XHRcdFx0JiYgYXR0ck5hbWUgIT09ICdpZCdcblx0XHRcdFx0XHQmJiBhdHRyTmFtZSAhPT0gJ3N0eWxlJ1xuXHRcdFx0XHRcdCYmICFhdHRyTmFtZS5zdGFydHNXaXRoKCdvbicpO1xuXHRcdFx0XHRjb25zdCB2YWx1ZUlzVmFsaWQgPSBwYXJzZUludChhdHRyVmFsdWUpLnRvU3RyaW5nKCkgIT09IGF0dHJWYWx1ZTtcblx0XHRcdFx0cmV0dXJuIG5hbWVJc1ZhbGlkICYmIHZhbHVlSXNWYWxpZCAmJiBhdHRyTmFtZSAhPT0gJ2hyZWYnO1xuXHRcdFx0fSk7XG5cdFx0aWYgKGF0dHJpYnV0ZXMubGVuZ3RoKSB7XG5cdFx0XHRsZXQgdGVtcGxhdGVzID0gYXR0cmlidXRlcy5tYXAoYXR0ciA9PiBgWyR7YXR0ci5uYW1lfT1cIiR7YXR0ci52YWx1ZX1cIl1gKTtcblx0XHRcdHJldHVybiB0ZW1wbGF0ZXMuam9pbignJyk7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHN0YXRpYyBfZ2V0Q2hpbGRTZWxlY3RvcihlbCkge1xuXHRcdGxldCBwcmV2RWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdGNvbnN0IG5leHRFbCA9IGVsLm5leHRFbGVtZW50U2libGluZztcblx0XHRpZiAoIXByZXZFbCB8fCBwcmV2RWwubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG5cdFx0XHRyZXR1cm4gJzpmaXJzdC1jaGlsZCc7XG5cdFx0fVxuXHRcdGlmICghbmV4dEVsIHx8IG5leHRFbC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdHJldHVybiAnOmxhc3QtY2hpbGQnO1xuXHRcdH1cblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRzdGF0aWMgX2dldFNpYmxpbmdTZWxlY3RvcihlbCwgd2luKSB7XG5cdFx0Y29uc3Qgc2VsZWN0b3JzID0gW107XG5cdFx0bGV0IHByZXZFbCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cdFx0d2hpbGUocHJldkVsICYmIHByZXZFbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcblx0XHRcdGxldCB0YWdOYW1lID0gcHJldkVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRsZXQgaWRDc3MgPSBDc3NGaW5kZXIuX2dldElkU2VsZWN0b3IocHJldkVsKTtcblx0XHRcdGxldCBjbGFzc0NzcyA9IENzc0ZpbmRlci5fZ2V0Q2xhc3Nlc1NlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRsZXQgYXR0cmlidXRlc0NzcyA9IENzc0ZpbmRlci5fZ2V0QXR0cmlidXRlc1NlbGVjdG9yKHByZXZFbCk7XG5cdFx0XHRsZXQgY2hpbGRTZWxlY3RvciA9IENzc0ZpbmRlci5fZ2V0Q2hpbGRTZWxlY3RvcihwcmV2RWwpO1xuXHRcdFx0bGV0IGNvbXBsZXhDc3MgPSBgJHt0YWdOYW1lfSR7aWRDc3N9JHtjbGFzc0Nzc30ke2F0dHJpYnV0ZXNDc3N9JHtjaGlsZFNlbGVjdG9yfWA7XG5cdFx0XHRzZWxlY3RvcnMudW5zaGlmdChjb21wbGV4Q3NzKTtcblx0XHRcdGxldCBjc3MgPSBzZWxlY3RvcnMuam9pbignICsgJyk7XG5cdFx0XHRpZiAoQ3NzRmluZGVyLl9pc09ubHlPbmVFeGlzdEVsKGNzcywgd2luKSkge1xuXHRcdFx0XHRyZXR1cm4gYCR7Y3NzfSArIGA7XG5cdFx0XHR9XG5cdFx0XHRwcmV2RWwgPSBwcmV2RWwucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHR9XG5cdFx0cmV0dXJuIHNlbGVjdG9ycy5sZW5ndGggPyBgJHtzZWxlY3RvcnMuam9pbignICsgJyl9ICsgYCA6ICcnO1xuXHR9XG5cblx0c3RhdGljIF9jaGVja09ubHlPbmVFeGlzdEVsKGNzcywgZmluZEVsLCB3aW4pIHtcblx0XHRsZXQgZmluZEVscyA9IFtdO1xuXHRcdHRyeSB7XG5cdFx0XHRmaW5kRWxzID0gY3NzICYmIHdpbi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNzcyk7XG5cdFx0fSBjYXRjaCAoZSkge31cblx0XHRyZXR1cm4gZmluZEVscy5sZW5ndGggPT09IDEgJiYgZmluZEVsc1swXSA9PT0gZmluZEVsO1xuXHR9XG5cblx0c3RhdGljIF9pc09ubHlPbmVFeGlzdEVsKGNzcywgd2luKSB7XG5cdFx0bGV0IGZpbmRFbHMgPSBbXTtcblx0XHR0cnkge1xuXHRcdFx0ZmluZEVscyA9IGNzcyAmJiB3aW4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3MpO1xuXHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0cmV0dXJuIGZpbmRFbHMubGVuZ3RoID09PSAxO1xuXHR9XG5cblx0c3RhdGljIF9pc1RydXN0ZWRTZWxlY3RvcihzZWxlY3Rvcikge1xuXHRcdGNvbnN0IGhhc051bWJlciA9IC9bMC05XXszLH0vLnRlc3Qoc2VsZWN0b3IpO1xuXHRcdHJldHVybiAhaGFzTnVtYmVyO1xuXHR9XG5cblx0c3RhdGljIF90cnVzdGVkU2VsZWN0b3Ioc2VsZWN0b3IpIHtcblx0XHRpZiAoQ3NzRmluZGVyLl9pc1RydXN0ZWRTZWxlY3RvcihzZWxlY3RvcikpIHtcblx0XHRcdHJldHVybiBzZWxlY3Rvcjtcblx0XHR9XG5cdFx0cmV0dXJuICcnO1xuXHR9XG59XG5cbmV4cG9ydCAgZGVmYXVsdCBDc3NGaW5kZXI7XG4iLCJjbGFzcyBYUGF0aEZpbmRlciB7XG5cblx0c3RhdGljIGdlbmVyYXRlVW5pcXVlKGVsLCB3aW4gPSB3aW5kb3cpIHtcblx0XHRpZiAoIShlbCBpbnN0YW5jZW9mIHdpbi5FbGVtZW50KSB8fCBlbC50YWdOYW1lID09PSAnQk9EWScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgcGF0aCA9IFtdO1xuXHRcdHdoaWxlIChlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgZWwudGFnTmFtZSAhPT0gJ0JPRFknKSB7XG5cdFx0XHRsZXQgdGFnTmFtZSA9IGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRsZXQgYXR0cmlidXRlc1NlbGVjdG9yID0gWFBhdGhGaW5kZXIuX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihlbCk7XG5cdFx0XHRsZXQgdGV4dFNlbGVjdG9yID0gWFBhdGhGaW5kZXIuX2dldFRleHRTZWxlY3RvcihlbCk7XG5cdFx0XHRwYXRoLnVuc2hpZnQoYCR7dGFnTmFtZX0ke2F0dHJpYnV0ZXNTZWxlY3Rvcn0ke3RleHRTZWxlY3Rvcn1gKTtcblx0XHRcdGxldCB4cGF0aCA9IGAvLyR7cGF0aC5qb2luKFwiL1wiKX1gO1xuXHRcdFx0Y29uc3QgZWxlbWVudCA9IHdpbi5kb2N1bWVudC5ldmFsdWF0ZSh4cGF0aCwgd2luLmRvY3VtZW50LCBudWxsLFxuXHRcdFx0XHRYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlO1xuXHRcdFx0aWYgKHBhdGgubGVuZ3RoICYmIGVsZW1lbnQgPT09IGVsKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xuXHRcdH1cblx0XHRyZXR1cm4gYC8vJHtwYXRoLmpvaW4oXCIvXCIpfWA7XG5cdH1cblxuXHRzdGF0aWMgX2dldEF0dHJpYnV0ZXNTZWxlY3RvcihlbCkge1xuXHRcdGxldCBhdHRyaWJ1dGVzID0gQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKS5maWx0ZXIoYXR0ciA9PiB7XG5cdFx0XHRsZXQgbmFtZSA9IGF0dHIubmFtZTtcblx0XHRcdHJldHVybiBuYW1lICE9PSAnc3R5bGUnICYmIG5hbWUgIT09ICdocmVmJztcblx0XHR9KTtcblx0XHRpZiAoYXR0cmlidXRlcy5sZW5ndGgpIHtcblx0XHRcdGxldCB0ZW1wbGF0ZXMgPSBhdHRyaWJ1dGVzLm1hcChhdHRyID0+IGBbQCR7YXR0ci5uYW1lfT1cIiR7YXR0ci52YWx1ZX1cIl1gKTtcblx0XHRcdHJldHVybiB0ZW1wbGF0ZXMuam9pbignJyk7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHN0YXRpYyBfZ2V0VGV4dFNlbGVjdG9yKGVsKSB7XG5cdFx0Y29uc3QgdGV4dCA9IGVsLm91dGVyVGV4dDtcblx0XHRpZiAoIXRleHQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRjb25zdCByZXBsYWNlU3ltYm9scyA9IC9bJ1xcKVxcKCxcXFtcXF1dL2c7XG5cdFx0Y29uc3QgY29udGFpbnMgPSB0ZXh0LnNsaWNlKDAsIDUwKTtcblx0XHRjb25zdCBzdHIgPSBjb250YWlucy5yZXBsYWNlKHJlcGxhY2VTeW1ib2xzLCAnXFxcXCQxJyk7XG5cdFx0cmV0dXJuIGBbY29udGFpbnModGV4dCgpLCAnJHtzdHJ9JyldYDtcblx0fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgWFBhdGhGaW5kZXI7IiwiaW1wb3J0IENzc0ZpbmRlciBmcm9tICcuL2Nzcy1maW5kZXInO1xuaW1wb3J0IFhQYXRoRmluZGVyIGZyb20gJy4veHBhdGgtZmluZGVyJztcblxuZnVuY3Rpb24gX2NsZWFyRmFrZVZhbHVlcyhzdHI6IHN0cmluZywgZmFrZVZhbHVlczogQXJyYXk8YW55Pikge1xuICAgIGZha2VWYWx1ZXMuZm9yRWFjaCh2YWwgPT4ge1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKHZhbCwgJ2cnKSwgJycpO1xuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBnZW5lcmF0ZVVuaXF1ZVNlbGVjdG9yKGVsOiBFbGVtZW50LCB3aW4gPSB3aW5kb3csIGZha2VWYWx1ZXM6IEFycmF5PGFueT4gPSBbXSkge1xuICAgICAgICBjb25zdCBjc3MgPSBDc3NGaW5kZXIuZ2VuZXJhdGVVbmlxdWUoZWwsIHdpbik7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBfY2xlYXJGYWtlVmFsdWVzKGNzcywgZmFrZVZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeHBhdGggPSBYUGF0aEZpbmRlci5nZW5lcmF0ZVVuaXF1ZShlbCwgd2luKTtcbiAgICAgICAgaWYgKCF4cGF0aC5zdGFydHNXaXRoKCcvL2h0bWwnKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9jbGVhckZha2VWYWx1ZXMoeHBhdGgsIGZha2VWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9